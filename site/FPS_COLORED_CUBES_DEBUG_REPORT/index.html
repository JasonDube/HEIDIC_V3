<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Complete documentation for the HEIDIC programming language and EDEN Engine ecosystem"><meta name=author content="HEIDIC Project"><link href=https://jasondube.github.io/HEIDIC/FPS_COLORED_CUBES_DEBUG_REPORT/ rel=canonical><link rel=icon href=../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.0"><title>FPS Colored Cubes Debug Report - HEIDIC Documentation</title><link rel=stylesheet href=../assets/stylesheets/main.618322db.min.css><link rel=stylesheet href=../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../public-docs/stylesheets/extra.css><script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#fps-colored-cubes-debug-report class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=.. title="HEIDIC Documentation" class="md-header__button md-logo" aria-label="HEIDIC Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> HEIDIC Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> FPS Colored Cubes Debug Report </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/JasonDube/HEIDIC title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> HEIDIC </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../FEATURES/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../EXAMPLES/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../HEIDIC/INTRODUCTION/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../HEIDIC/LANGUAGE/ class=md-tabs__link> Language Reference </a> </li> <li class=md-tabs__item> <a href=../ECS/ECS_QUERIES_EXPLAINED/ class=md-tabs__link> ECS & Components </a> </li> <li class=md-tabs__item> <a href=../CONTINUUM-HOT%20RELOAD%20DOCS/HOT_RELOADING_EXPLAINED/ class=md-tabs__link> Engine Features </a> </li> <li class=md-tabs__item> <a href=../TOOLS/ class=md-tabs__link> Tools & Ecosystem </a> </li> <li class=md-tabs__item> <a href=../DDS_FORMAT_GUIDE/ class=md-tabs__link> Resources & Formats </a> </li> <li class=md-tabs__item> <a href=../KNOWLEDGE%20BASE/shaders_explained/ class=md-tabs__link> Knowledge Base </a> </li> <li class=md-tabs__item> <a href=../HEIDIC/HEIDIC_ROADMAP/ class=md-tabs__link> Development </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=.. title="HEIDIC Documentation" class="md-nav__button md-logo" aria-label="HEIDIC Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> HEIDIC Documentation </label> <div class=md-nav__source> <a href=https://github.com/JasonDube/HEIDIC title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> HEIDIC </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../FEATURES/ class=md-nav__link> <span class=md-ellipsis> Features </span> </a> </li> <li class=md-nav__item> <a href=../EXAMPLES/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../HEIDIC/INTRODUCTION/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../EDEN_VS_HEIDIC/ class=md-nav__link> <span class=md-ellipsis> EDEN vs HEIDIC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Language Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Language Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../HEIDIC/LANGUAGE/ class=md-nav__link> <span class=md-ellipsis> Language Specification </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/LANGUAGE_REFERENCE/ class=md-nav__link> <span class=md-ellipsis> Complete Reference </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/ERROR_TYPES/ class=md-nav__link> <span class=md-ellipsis> Error Types </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/HEIDIC_VS_CPP/ class=md-nav__link> <span class=md-ellipsis> HEIDIC vs C++ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> ECS & Components </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> ECS & Components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../ECS/ECS_QUERIES_EXPLAINED/ class=md-nav__link> <span class=md-ellipsis> ECS Queries Explained </span> </a> </li> <li class=md-nav__item> <a href=../ECS/COMPONENT_FRAMEWORK_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Component Framework </span> </a> </li> <li class=md-nav__item> <a href=../SOA%20DOCS/SOA_ACCESS_PATTERN_EXPLAINED/ class=md-nav__link> <span class=md-ellipsis> SOA Access Pattern </span> </a> </li> <li class=md-nav__item> <a href=../ECS/ENTITY_SYSTEM_ANALYSIS/ class=md-nav__link> <span class=md-ellipsis> Entity System Analysis </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Engine Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Engine Features </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class=md-ellipsis> CONTINUUM Hot-Reload </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> CONTINUUM Hot-Reload </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../CONTINUUM-HOT%20RELOAD%20DOCS/HOT_RELOADING_EXPLAINED/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../CONTINUUM-HOT%20RELOAD%20DOCS/CONTINUUM/ class=md-nav__link> <span class=md-ellipsis> CONTINUUM System </span> </a> </li> <li class=md-nav__item> <a href=../CONTINUUM-HOT%20RELOAD%20DOCS/component_hotload_explained/ class=md-nav__link> <span class=md-ellipsis> Component Hot-Load </span> </a> </li> <li class=md-nav__item> <a href=../CONTINUUM-HOT%20RELOAD%20DOCS/HOT_RELOAD_IMPLEMENTATION_STATUS/ class=md-nav__link> <span class=md-ellipsis> Implementation Status </span> </a> </li> <li class=md-nav__item> <a href=../CONTINUUM-HOT%20RELOAD%20DOCS/HOT_RELOAD_TESTING/ class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Tools & Ecosystem </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Tools & Ecosystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../TOOLS/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../TOOLS/EDEN_ENGINE/ class=md-nav__link> <span class=md-ellipsis> EDEN Engine </span> </a> </li> <li class=md-nav__item> <a href=../TOOLS/ELECTROSCRIBE/ class=md-nav__link> <span class=md-ellipsis> Electroscribe </span> </a> </li> <li class=md-nav__item> <a href=../TOOLS/ESE/ class=md-nav__link> <span class=md-ellipsis> ESE </span> </a> </li> <li class=md-nav__item> <a href=../TOOLS/SLAG_LEGION/ class=md-nav__link> <span class=md-ellipsis> SLAG LEGION </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/HEIROC_ARCHITECTURE/ class=md-nav__link> <span class=md-ellipsis> HEIROC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> Resources & Formats </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Resources & Formats </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../DDS_FORMAT_GUIDE/ class=md-nav__link> <span class=md-ellipsis> DDS Format Guide </span> </a> </li> <li class=md-nav__item> <a href=../DDS_TEXTURE_STRATEGY/ class=md-nav__link> <span class=md-ellipsis> DDS Texture Strategy </span> </a> </li> <li class=md-nav__item> <a href=../RESOURCE_SYSTEM_PLAN/ class=md-nav__link> <span class=md-ellipsis> Resource System Plan </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex=0> <span class=md-ellipsis> Knowledge Base </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Knowledge Base </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../KNOWLEDGE%20BASE/shaders_explained/ class=md-nav__link> <span class=md-ellipsis> Shaders Explained </span> </a> </li> <li class=md-nav__item> <a href=../KNOWLEDGE%20BASE/stage_field_explanation/ class=md-nav__link> <span class=md-ellipsis> Stage Field Explanation </span> </a> </li> <li class=md-nav__item> <a href=../ZERO%20BOILERPLATE/ZERO_BOILERPLATE_EXPLAINED/ class=md-nav__link> <span class=md-ellipsis> Zero Boilerplate </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../HEIDIC/HEIDIC_ROADMAP/ class=md-nav__link> <span class=md-ellipsis> Roadmap </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/SPRINT1_IMPLEMENTATION_PLAN/ class=md-nav__link> <span class=md-ellipsis> Sprint 1 Plan </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11_3> <label class=md-nav__link for=__nav_11_3 id=__nav_11_3_label tabindex=0> <span class=md-ellipsis> Implementation Plans </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_3_label aria-expanded=false> <label class=md-nav__title for=__nav_11_3> <span class="md-nav__icon md-icon"></span> Implementation Plans </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../SOA%20DOCS/SOA_IMPLEMENTATION_PLAN/ class=md-nav__link> <span class=md-ellipsis> SOA Implementation </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/CUDA_OPTIX_INTEROP_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> CUDA/OptiX Interop </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/PATTERN_MATCHING_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> Pattern Matching </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/TYPE_INFERENCE_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> Type Inference </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/MEMORY_OWNERSHIP_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> Memory Ownership </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/STRING_HANDLING_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> String Handling </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/OPTIONAL_TYPES_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> Optional Types </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC/DEFER_STATEMENTS_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> Defer Statements </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../LLM%20TAKES/REVIEWS_SUMMARY/ class=md-nav__link> <span class=md-ellipsis> LLM Reviews </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#problem-description class=md-nav__link> <span class=md-ellipsis> Problem Description </span> </a> </li> <li class=md-nav__item> <a href=#code-changes-made class=md-nav__link> <span class=md-ellipsis> Code Changes Made </span> </a> <nav class=md-nav aria-label="Code Changes Made"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-floor-cube-model-matrix-vulkaneden_vulkan_helperscpp-lines-2508-2514 class=md-nav__link> <span class=md-ellipsis> 1. Floor Cube Model Matrix (vulkan/eden_vulkan_helpers.cpp, lines ~2508-2514) </span> </a> </li> <li class=md-nav__item> <a href=#2-colored-cube-creation-vulkaneden_vulkan_helperscpp-lines-2230-2275 class=md-nav__link> <span class=md-ellipsis> 2. Colored Cube Creation (vulkan/eden_vulkan_helpers.cpp, lines ~2230-2275) </span> </a> </li> <li class=md-nav__item> <a href=#3-colored-cube-rendering-vulkaneden_vulkan_helperscpp-lines-2606-2656 class=md-nav__link> <span class=md-ellipsis> 3. Colored Cube Rendering (vulkan/eden_vulkan_helpers.cpp, lines ~2606-2656) </span> </a> </li> <li class=md-nav__item> <a href=#4-global-variables-vulkaneden_vulkan_helperscpp-lines-2133-2136 class=md-nav__link> <span class=md-ellipsis> 4. Global Variables (vulkan/eden_vulkan_helpers.cpp, lines ~2133-2136) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#root-cause-analysis class=md-nav__link> <span class=md-ellipsis> Root Cause Analysis </span> </a> <nav class=md-nav aria-label="Root Cause Analysis"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#issue-1-floor-cube-appears-1x1x1 class=md-nav__link> <span class=md-ellipsis> Issue 1: Floor Cube Appears 1x1x1 </span> </a> </li> <li class=md-nav__item> <a href=#issue-2-colored-cubes-not-visible class=md-nav__link> <span class=md-ellipsis> Issue 2: Colored Cubes Not Visible </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#recommended-fixes class=md-nav__link> <span class=md-ellipsis> Recommended Fixes </span> </a> <nav class=md-nav aria-label="Recommended Fixes"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#fix-1-preserve-viewprojection-matrices-for-colored-cubes class=md-nav__link> <span class=md-ellipsis> Fix 1: Preserve View/Projection Matrices for Colored Cubes </span> </a> </li> <li class=md-nav__item> <a href=#fix-2-verify-floor-model-matrix-order class=md-nav__link> <span class=md-ellipsis> Fix 2: Verify Floor Model Matrix Order </span> </a> </li> <li class=md-nav__item> <a href=#fix-3-add-debug-output-one-time-not-per-frame class=md-nav__link> <span class=md-ellipsis> Fix 3: Add Debug Output (One-Time, Not Per-Frame) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#files-modified class=md-nav__link> <span class=md-ellipsis> Files Modified </span> </a> </li> <li class=md-nav__item> <a href=#test-case class=md-nav__link> <span class=md-ellipsis> Test Case </span> </a> </li> <li class=md-nav__item> <a href=#next-steps class=md-nav__link> <span class=md-ellipsis> Next Steps </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <a href=https://github.com/JasonDube/HEIDIC/edit/main/public-docs/FPS_COLORED_CUBES_DEBUG_REPORT.md title="Edit this page" class="md-content__button md-icon" rel=edit> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M10 20H6V4h7v5h5v3.1l2-2V8l-6-6H6c-1.1 0-2 .9-2 2v16c0 1.1.9 2 2 2h4zm10.2-7c.1 0 .3.1.4.2l1.3 1.3c.2.2.2.6 0 .8l-1 1-2.1-2.1 1-1c.1-.1.2-.2.4-.2m0 3.9L14.1 23H12v-2.1l6.1-6.1z"/></svg> </a> <h1 id=fps-colored-cubes-debug-report>FPS Colored Cubes Debug Report<a class=headerlink href=#fps-colored-cubes-debug-report title="Permanent link">&para;</a></h1> <h2 id=problem-description>Problem Description<a class=headerlink href=#problem-description title="Permanent link">&para;</a></h2> <p>The FPS camera test project should display: 1. A large floor plane (50x1x50 units) scaled from a 2x2x2 cube 2. Multiple colored 1x1x1 reference cubes positioned on top of the floor</p> <p><strong>Current Issues:</strong> - Floor cube appears as 1x1x1 instead of the expected large floor plane - No colored reference cubes are visible in the scene</p> <h2 id=code-changes-made>Code Changes Made<a class=headerlink href=#code-changes-made title="Permanent link">&para;</a></h2> <h3 id=1-floor-cube-model-matrix-vulkaneden_vulkan_helperscpp-lines-2508-2514>1. Floor Cube Model Matrix (vulkan/eden_vulkan_helpers.cpp, lines ~2508-2514)<a class=headerlink href=#1-floor-cube-model-matrix-vulkaneden_vulkan_helperscpp-lines-2508-2514 title="Permanent link">&para;</a></h3> <p><strong>Location:</strong> <code>heidic_render_fps()</code> function</p> <p><strong>Current Code:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a><span class=c1>// Model matrix - scale the floor cube to be a large floor</span>
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a><span class=c1>// Floor cube vertices are -1.0 to 1.0 (2x2x2 cube), so scale to make it a large floor</span>
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a><span class=c1>// Scale X and Z much more than Y to keep thickness but make it wide</span>
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a><span class=n>glm</span><span class=o>::</span><span class=n>mat4</span><span class=w> </span><span class=n>floorModel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>mat4</span><span class=p>(</span><span class=mf>1.0f</span><span class=p>);</span>
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a><span class=n>floorModel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>scale</span><span class=p>(</span><span class=n>floorModel</span><span class=p>,</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>25.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>25.0f</span><span class=p>));</span><span class=w>  </span><span class=c1>// 50x1x50 units (wide floor, thin height)</span>
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a><span class=n>floorModel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>translate</span><span class=p>(</span><span class=n>floorModel</span><span class=p>,</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>-0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>));</span><span class=w>  </span><span class=c1>// Move down so top is at y=0</span>
</span><span id=__span-0-7><a id=__codelineno-0-7 name=__codelineno-0-7 href=#__codelineno-0-7></a><span class=n>ubo</span><span class=p>.</span><span class=n>model</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>floorModel</span><span class=p>;</span>
</span></code></pre></div></p> <p><strong>Expected Behavior:</strong> - Floor cube vertices are defined as -1.0 to 1.0 (2x2x2 cube) - see <code>floorCubeVertices</code> at line ~2140 - Scaling by 25x0.5x25 should produce a 50x1x50 unit floor - Translation moves it down so top face is at y=0</p> <p><strong>Issue:</strong> The floor appears as 1x1x1, suggesting the scaling is not being applied correctly, or the model matrix is being overwritten.</p> <h3 id=2-colored-cube-creation-vulkaneden_vulkan_helperscpp-lines-2230-2275>2. Colored Cube Creation (vulkan/eden_vulkan_helpers.cpp, lines ~2230-2275)<a class=headerlink href=#2-colored-cube-creation-vulkaneden_vulkan_helperscpp-lines-2230-2275 title="Permanent link">&para;</a></h3> <p><strong>Location:</strong> <code>heidic_init_renderer_fps()</code> function</p> <p><strong>Current Code:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=c1>// Create colored reference cubes (1x1x1 cubes with different colors)</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=k>struct</span><span class=w> </span><span class=nc>ColoredCubeData</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=n>z</span><span class=p>;</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=n>g</span><span class=p>,</span><span class=w> </span><span class=n>b</span><span class=p>;</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=p>};</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>ColoredCubeData</span><span class=o>&gt;</span><span class=w> </span><span class=n>referenceCubes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-8><a id=__codelineno-1-8 name=__codelineno-1-8 href=#__codelineno-1-8></a><span class=w>    </span><span class=p>{</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>},</span><span class=w>   </span><span class=c1>// Red at origin</span>
</span><span id=__span-1-9><a id=__codelineno-1-9 name=__codelineno-1-9 href=#__codelineno-1-9></a><span class=w>    </span><span class=p>{</span><span class=mf>5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>},</span><span class=w>   </span><span class=c1>// Green at +X</span>
</span><span id=__span-1-10><a id=__codelineno-1-10 name=__codelineno-1-10 href=#__codelineno-1-10></a><span class=w>    </span><span class=p>{</span><span class=mf>-5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>},</span><span class=w>  </span><span class=c1>// Blue at -X</span>
</span><span id=__span-1-11><a id=__codelineno-1-11 name=__codelineno-1-11 href=#__codelineno-1-11></a><span class=w>    </span><span class=p>{</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>},</span><span class=w>   </span><span class=c1>// Yellow at +Z</span>
</span><span id=__span-1-12><a id=__codelineno-1-12 name=__codelineno-1-12 href=#__codelineno-1-12></a><span class=w>    </span><span class=p>{</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>},</span><span class=w>  </span><span class=c1>// Magenta at -Z</span>
</span><span id=__span-1-13><a id=__codelineno-1-13 name=__codelineno-1-13 href=#__codelineno-1-13></a><span class=w>    </span><span class=p>{</span><span class=mf>5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>},</span><span class=w>   </span><span class=c1>// Cyan at +X+Z</span>
</span><span id=__span-1-14><a id=__codelineno-1-14 name=__codelineno-1-14 href=#__codelineno-1-14></a><span class=w>    </span><span class=p>{</span><span class=mf>-5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>},</span><span class=w> </span><span class=c1>// Orange at -X-Z</span>
</span><span id=__span-1-15><a id=__codelineno-1-15 name=__codelineno-1-15 href=#__codelineno-1-15></a><span class=w>    </span><span class=p>{</span><span class=mf>10.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>},</span><span class=w>  </span><span class=c1>// Light blue at +10X</span>
</span><span id=__span-1-16><a id=__codelineno-1-16 name=__codelineno-1-16 href=#__codelineno-1-16></a><span class=w>    </span><span class=p>{</span><span class=mf>-10.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>1.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>},</span><span class=w> </span><span class=c1>// Pink at -10X</span>
</span><span id=__span-1-17><a id=__codelineno-1-17 name=__codelineno-1-17 href=#__codelineno-1-17></a><span class=p>};</span>
</span><span id=__span-1-18><a id=__codelineno-1-18 name=__codelineno-1-18 href=#__codelineno-1-18></a>
</span><span id=__span-1-19><a id=__codelineno-1-19 name=__codelineno-1-19 href=#__codelineno-1-19></a><span class=n>g_numColoredCubes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>referenceCubes</span><span class=p>.</span><span class=n>size</span><span class=p>());</span>
</span><span id=__span-1-20><a id=__codelineno-1-20 name=__codelineno-1-20 href=#__codelineno-1-20></a>
</span><span id=__span-1-21><a id=__codelineno-1-21 name=__codelineno-1-21 href=#__codelineno-1-21></a><span class=c1>// Create vertex buffers for each colored cube</span>
</span><span id=__span-1-22><a id=__codelineno-1-22 name=__codelineno-1-22 href=#__codelineno-1-22></a><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>g_numColoredCubes</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=mi>10</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-23><a id=__codelineno-1-23 name=__codelineno-1-23 href=#__codelineno-1-23></a><span class=w>    </span><span class=c1>// Create cube vertices with the specified color (1x1x1 cube from -0.5 to 0.5)</span>
</span><span id=__span-1-24><a id=__codelineno-1-24 name=__codelineno-1-24 href=#__codelineno-1-24></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>Vertex</span><span class=o>&gt;</span><span class=w> </span><span class=n>coloredCubeVertices</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-25><a id=__codelineno-1-25 name=__codelineno-1-25 href=#__codelineno-1-25></a><span class=w>        </span><span class=p>{{</span><span class=mf>-0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-0.5f</span><span class=p>,</span><span class=w>  </span><span class=mf>0.5f</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>g</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>b</span><span class=p>}},</span>
</span><span id=__span-1-26><a id=__codelineno-1-26 name=__codelineno-1-26 href=#__codelineno-1-26></a><span class=w>        </span><span class=p>{{</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-0.5f</span><span class=p>,</span><span class=w>  </span><span class=mf>0.5f</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>g</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>b</span><span class=p>}},</span>
</span><span id=__span-1-27><a id=__codelineno-1-27 name=__codelineno-1-27 href=#__codelineno-1-27></a><span class=w>        </span><span class=p>{{</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w>  </span><span class=mf>0.5f</span><span class=p>,</span><span class=w>  </span><span class=mf>0.5f</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>g</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>b</span><span class=p>}},</span>
</span><span id=__span-1-28><a id=__codelineno-1-28 name=__codelineno-1-28 href=#__codelineno-1-28></a><span class=w>        </span><span class=p>{{</span><span class=mf>-0.5f</span><span class=p>,</span><span class=w>  </span><span class=mf>0.5f</span><span class=p>,</span><span class=w>  </span><span class=mf>0.5f</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>g</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>b</span><span class=p>}},</span>
</span><span id=__span-1-29><a id=__codelineno-1-29 name=__codelineno-1-29 href=#__codelineno-1-29></a><span class=w>        </span><span class=p>{{</span><span class=mf>-0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-0.5f</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>g</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>b</span><span class=p>}},</span>
</span><span id=__span-1-30><a id=__codelineno-1-30 name=__codelineno-1-30 href=#__codelineno-1-30></a><span class=w>        </span><span class=p>{{</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-0.5f</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>g</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>b</span><span class=p>}},</span>
</span><span id=__span-1-31><a id=__codelineno-1-31 name=__codelineno-1-31 href=#__codelineno-1-31></a><span class=w>        </span><span class=p>{{</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w>  </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-0.5f</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>g</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>b</span><span class=p>}},</span>
</span><span id=__span-1-32><a id=__codelineno-1-32 name=__codelineno-1-32 href=#__codelineno-1-32></a><span class=w>        </span><span class=p>{{</span><span class=mf>-0.5f</span><span class=p>,</span><span class=w>  </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-0.5f</span><span class=p>},</span><span class=w> </span><span class=p>{</span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>r</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>g</span><span class=p>,</span><span class=w> </span><span class=n>referenceCubes</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>b</span><span class=p>}},</span>
</span><span id=__span-1-33><a id=__codelineno-1-33 name=__codelineno-1-33 href=#__codelineno-1-33></a><span class=w>    </span><span class=p>};</span>
</span><span id=__span-1-34><a id=__codelineno-1-34 name=__codelineno-1-34 href=#__codelineno-1-34></a>
</span><span id=__span-1-35><a id=__codelineno-1-35 name=__codelineno-1-35 href=#__codelineno-1-35></a><span class=w>    </span><span class=n>VkDeviceSize</span><span class=w> </span><span class=n>vertexBufferSize</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>coloredCubeVertices</span><span class=p>[</span><span class=mi>0</span><span class=p>])</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>coloredCubeVertices</span><span class=p>.</span><span class=n>size</span><span class=p>();</span>
</span><span id=__span-1-36><a id=__codelineno-1-36 name=__codelineno-1-36 href=#__codelineno-1-36></a><span class=w>    </span><span class=n>createBuffer</span><span class=p>(</span><span class=n>vertexBufferSize</span><span class=p>,</span><span class=w> </span><span class=n>VK_BUFFER_USAGE_VERTEX_BUFFER_BIT</span><span class=p>,</span>
</span><span id=__span-1-37><a id=__codelineno-1-37 name=__codelineno-1-37 href=#__codelineno-1-37></a><span class=w>                 </span><span class=n>VK_MEMORY_PROPERTY_HOST_VISIBLE_BIT</span><span class=w> </span><span class=o>|</span><span class=w> </span><span class=n>VK_MEMORY_PROPERTY_HOST_COHERENT_BIT</span><span class=p>,</span>
</span><span id=__span-1-38><a id=__codelineno-1-38 name=__codelineno-1-38 href=#__codelineno-1-38></a><span class=w>                 </span><span class=n>g_coloredCubeVertexBuffers</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=n>g_coloredCubeVertexBufferMemory</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-1-39><a id=__codelineno-1-39 name=__codelineno-1-39 href=#__codelineno-1-39></a>
</span><span id=__span-1-40><a id=__codelineno-1-40 name=__codelineno-1-40 href=#__codelineno-1-40></a><span class=w>    </span><span class=kt>void</span><span class=o>*</span><span class=w> </span><span class=n>data</span><span class=p>;</span>
</span><span id=__span-1-41><a id=__codelineno-1-41 name=__codelineno-1-41 href=#__codelineno-1-41></a><span class=w>    </span><span class=n>vkMapMemory</span><span class=p>(</span><span class=n>g_device</span><span class=p>,</span><span class=w> </span><span class=n>g_coloredCubeVertexBufferMemory</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>vertexBufferSize</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>data</span><span class=p>);</span>
</span><span id=__span-1-42><a id=__codelineno-1-42 name=__codelineno-1-42 href=#__codelineno-1-42></a><span class=w>    </span><span class=n>memcpy</span><span class=p>(</span><span class=n>data</span><span class=p>,</span><span class=w> </span><span class=n>coloredCubeVertices</span><span class=p>.</span><span class=n>data</span><span class=p>(),</span><span class=w> </span><span class=p>(</span><span class=kt>size_t</span><span class=p>)</span><span class=n>vertexBufferSize</span><span class=p>);</span>
</span><span id=__span-1-43><a id=__codelineno-1-43 name=__codelineno-1-43 href=#__codelineno-1-43></a><span class=w>    </span><span class=n>vkUnmapMemory</span><span class=p>(</span><span class=n>g_device</span><span class=p>,</span><span class=w> </span><span class=n>g_coloredCubeVertexBufferMemory</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-1-44><a id=__codelineno-1-44 name=__codelineno-1-44 href=#__codelineno-1-44></a><span class=p>}</span>
</span><span id=__span-1-45><a id=__codelineno-1-45 name=__codelineno-1-45 href=#__codelineno-1-45></a>
</span><span id=__span-1-46><a id=__codelineno-1-46 name=__codelineno-1-46 href=#__codelineno-1-46></a><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;[FPS] Created &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>g_numColoredCubes</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; colored reference cubes&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span></code></pre></div></p> <p><strong>Expected Behavior:</strong> - Creates 9 colored cube vertex buffers - Each cube is 1x1x1 (vertices from -0.5 to 0.5) - Stores buffers in <code>g_coloredCubeVertexBuffers[]</code> array - Sets <code>g_numColoredCubes = 9</code></p> <p><strong>Issue:</strong> Cubes are created but not visible, suggesting rendering code has issues.</p> <h3 id=3-colored-cube-rendering-vulkaneden_vulkan_helperscpp-lines-2606-2656>3. Colored Cube Rendering (vulkan/eden_vulkan_helpers.cpp, lines ~2606-2656)<a class=headerlink href=#3-colored-cube-rendering-vulkaneden_vulkan_helperscpp-lines-2606-2656 title="Permanent link">&para;</a></h3> <p><strong>Location:</strong> <code>heidic_render_fps()</code> function, after floor cube is drawn</p> <p><strong>Current Code:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1>// Draw multiple colored 1x1x1 cubes on top of the floor for spatial reference</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>struct</span><span class=w> </span><span class=nc>ColoredCubePos</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=n>z</span><span class=p>;</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=p>};</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>ColoredCubePos</span><span class=o>&gt;</span><span class=w> </span><span class=n>cubePositions</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>    </span><span class=p>{</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>},</span><span class=w>   </span><span class=c1>// Red at origin</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=w>    </span><span class=p>{</span><span class=mf>5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>},</span><span class=w>   </span><span class=c1>// Green at +X</span>
</span><span id=__span-2-9><a id=__codelineno-2-9 name=__codelineno-2-9 href=#__codelineno-2-9></a><span class=w>    </span><span class=p>{</span><span class=mf>-5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>},</span><span class=w>  </span><span class=c1>// Blue at -X</span>
</span><span id=__span-2-10><a id=__codelineno-2-10 name=__codelineno-2-10 href=#__codelineno-2-10></a><span class=w>    </span><span class=p>{</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>5.0f</span><span class=p>},</span><span class=w>   </span><span class=c1>// Yellow at +Z</span>
</span><span id=__span-2-11><a id=__codelineno-2-11 name=__codelineno-2-11 href=#__codelineno-2-11></a><span class=w>    </span><span class=p>{</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-5.0f</span><span class=p>},</span><span class=w>  </span><span class=c1>// Magenta at -Z</span>
</span><span id=__span-2-12><a id=__codelineno-2-12 name=__codelineno-2-12 href=#__codelineno-2-12></a><span class=w>    </span><span class=p>{</span><span class=mf>5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>5.0f</span><span class=p>},</span><span class=w>   </span><span class=c1>// Cyan at +X+Z</span>
</span><span id=__span-2-13><a id=__codelineno-2-13 name=__codelineno-2-13 href=#__codelineno-2-13></a><span class=w>    </span><span class=p>{</span><span class=mf>-5.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>-5.0f</span><span class=p>},</span><span class=w> </span><span class=c1>// Orange at -X-Z</span>
</span><span id=__span-2-14><a id=__codelineno-2-14 name=__codelineno-2-14 href=#__codelineno-2-14></a><span class=w>    </span><span class=p>{</span><span class=mf>10.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>},</span><span class=w>  </span><span class=c1>// Light blue at +10X</span>
</span><span id=__span-2-15><a id=__codelineno-2-15 name=__codelineno-2-15 href=#__codelineno-2-15></a><span class=w>    </span><span class=p>{</span><span class=mf>-10.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>},</span><span class=w> </span><span class=c1>// Pink at -10X</span>
</span><span id=__span-2-16><a id=__codelineno-2-16 name=__codelineno-2-16 href=#__codelineno-2-16></a><span class=p>};</span>
</span><span id=__span-2-17><a id=__codelineno-2-17 name=__codelineno-2-17 href=#__codelineno-2-17></a>
</span><span id=__span-2-18><a id=__codelineno-2-18 name=__codelineno-2-18 href=#__codelineno-2-18></a><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>int</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>g_numColoredCubes</span><span class=w> </span><span class=o>&amp;&amp;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=k>static_cast</span><span class=o>&lt;</span><span class=kt>int</span><span class=o>&gt;</span><span class=p>(</span><span class=n>cubePositions</span><span class=p>.</span><span class=n>size</span><span class=p>());</span><span class=w> </span><span class=n>i</span><span class=o>++</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-19><a id=__codelineno-2-19 name=__codelineno-2-19 href=#__codelineno-2-19></a><span class=w>    </span><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>g_coloredCubeVertexBuffers</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>==</span><span class=w> </span><span class=n>VK_NULL_HANDLE</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-20><a id=__codelineno-2-20 name=__codelineno-2-20 href=#__codelineno-2-20></a><span class=w>        </span><span class=k>continue</span><span class=p>;</span>
</span><span id=__span-2-21><a id=__codelineno-2-21 name=__codelineno-2-21 href=#__codelineno-2-21></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-2-22><a id=__codelineno-2-22 name=__codelineno-2-22 href=#__codelineno-2-22></a>
</span><span id=__span-2-23><a id=__codelineno-2-23 name=__codelineno-2-23 href=#__codelineno-2-23></a><span class=w>    </span><span class=c1>// Model matrix: 1x1x1 cube at the specified position</span>
</span><span id=__span-2-24><a id=__codelineno-2-24 name=__codelineno-2-24 href=#__codelineno-2-24></a><span class=w>    </span><span class=n>glm</span><span class=o>::</span><span class=n>mat4</span><span class=w> </span><span class=n>cubeModel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>mat4</span><span class=p>(</span><span class=mf>1.0f</span><span class=p>);</span>
</span><span id=__span-2-25><a id=__codelineno-2-25 name=__codelineno-2-25 href=#__codelineno-2-25></a><span class=w>    </span><span class=n>cubeModel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>translate</span><span class=p>(</span><span class=n>cubeModel</span><span class=p>,</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=n>cubePositions</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>x</span><span class=p>,</span><span class=w> </span><span class=n>cubePositions</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>y</span><span class=p>,</span><span class=w> </span><span class=n>cubePositions</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>z</span><span class=p>));</span>
</span><span id=__span-2-26><a id=__codelineno-2-26 name=__codelineno-2-26 href=#__codelineno-2-26></a><span class=w>    </span><span class=c1>// Cube vertices are -0.5 to 0.5, so no scaling needed for 1x1x1 cube</span>
</span><span id=__span-2-27><a id=__codelineno-2-27 name=__codelineno-2-27 href=#__codelineno-2-27></a><span class=w>    </span><span class=n>ubo</span><span class=p>.</span><span class=n>model</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cubeModel</span><span class=p>;</span>
</span><span id=__span-2-28><a id=__codelineno-2-28 name=__codelineno-2-28 href=#__codelineno-2-28></a>
</span><span id=__span-2-29><a id=__codelineno-2-29 name=__codelineno-2-29 href=#__codelineno-2-29></a><span class=w>    </span><span class=c1>// Update uniform buffer with new model matrix</span>
</span><span id=__span-2-30><a id=__codelineno-2-30 name=__codelineno-2-30 href=#__codelineno-2-30></a><span class=w>    </span><span class=kt>void</span><span class=o>*</span><span class=w> </span><span class=n>cubeData</span><span class=p>;</span>
</span><span id=__span-2-31><a id=__codelineno-2-31 name=__codelineno-2-31 href=#__codelineno-2-31></a><span class=w>    </span><span class=n>vkMapMemory</span><span class=p>(</span><span class=n>g_device</span><span class=p>,</span><span class=w> </span><span class=n>g_uniformBuffersMemory</span><span class=p>[</span><span class=n>imageIndex</span><span class=p>],</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>ubo</span><span class=p>),</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>cubeData</span><span class=p>);</span>
</span><span id=__span-2-32><a id=__codelineno-2-32 name=__codelineno-2-32 href=#__codelineno-2-32></a><span class=w>    </span><span class=n>memcpy</span><span class=p>(</span><span class=n>cubeData</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>ubo</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>ubo</span><span class=p>));</span>
</span><span id=__span-2-33><a id=__codelineno-2-33 name=__codelineno-2-33 href=#__codelineno-2-33></a><span class=w>    </span><span class=n>vkUnmapMemory</span><span class=p>(</span><span class=n>g_device</span><span class=p>,</span><span class=w> </span><span class=n>g_uniformBuffersMemory</span><span class=p>[</span><span class=n>imageIndex</span><span class=p>]);</span>
</span><span id=__span-2-34><a id=__codelineno-2-34 name=__codelineno-2-34 href=#__codelineno-2-34></a>
</span><span id=__span-2-35><a id=__codelineno-2-35 name=__codelineno-2-35 href=#__codelineno-2-35></a><span class=w>    </span><span class=c1>// Rebind descriptor set (to ensure GPU sees updated uniform buffer)</span>
</span><span id=__span-2-36><a id=__codelineno-2-36 name=__codelineno-2-36 href=#__codelineno-2-36></a><span class=w>    </span><span class=n>vkCmdBindDescriptorSets</span><span class=p>(</span><span class=n>g_commandBuffers</span><span class=p>[</span><span class=n>imageIndex</span><span class=p>],</span><span class=w> </span><span class=n>VK_PIPELINE_BIND_POINT_GRAPHICS</span><span class=p>,</span><span class=w> </span><span class=n>g_pipelineLayout</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>g_descriptorSets</span><span class=p>[</span><span class=n>imageIndex</span><span class=p>],</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=k>nullptr</span><span class=p>);</span>
</span><span id=__span-2-37><a id=__codelineno-2-37 name=__codelineno-2-37 href=#__codelineno-2-37></a>
</span><span id=__span-2-38><a id=__codelineno-2-38 name=__codelineno-2-38 href=#__codelineno-2-38></a><span class=w>    </span><span class=c1>// Bind the colored cube&#39;s vertex buffer</span>
</span><span id=__span-2-39><a id=__codelineno-2-39 name=__codelineno-2-39 href=#__codelineno-2-39></a><span class=w>    </span><span class=n>VkBuffer</span><span class=w> </span><span class=n>vertexBuffers</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>g_coloredCubeVertexBuffers</span><span class=p>[</span><span class=n>i</span><span class=p>]};</span>
</span><span id=__span-2-40><a id=__codelineno-2-40 name=__codelineno-2-40 href=#__codelineno-2-40></a><span class=w>    </span><span class=n>VkDeviceSize</span><span class=w> </span><span class=n>offsets</span><span class=p>[]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=mi>0</span><span class=p>};</span>
</span><span id=__span-2-41><a id=__codelineno-2-41 name=__codelineno-2-41 href=#__codelineno-2-41></a><span class=w>    </span><span class=n>vkCmdBindVertexBuffers</span><span class=p>(</span><span class=n>g_commandBuffers</span><span class=p>[</span><span class=n>imageIndex</span><span class=p>],</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=n>vertexBuffers</span><span class=p>,</span><span class=w> </span><span class=n>offsets</span><span class=p>);</span>
</span><span id=__span-2-42><a id=__codelineno-2-42 name=__codelineno-2-42 href=#__codelineno-2-42></a>
</span><span id=__span-2-43><a id=__codelineno-2-43 name=__codelineno-2-43 href=#__codelineno-2-43></a><span class=w>    </span><span class=c1>// Rebind index buffer (same indices work for all cubes - 36 indices for a cube)</span>
</span><span id=__span-2-44><a id=__codelineno-2-44 name=__codelineno-2-44 href=#__codelineno-2-44></a><span class=w>    </span><span class=n>vkCmdBindIndexBuffer</span><span class=p>(</span><span class=n>g_commandBuffers</span><span class=p>[</span><span class=n>imageIndex</span><span class=p>],</span><span class=w> </span><span class=n>g_fpsCubeIndexBuffer</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=n>VK_INDEX_TYPE_UINT16</span><span class=p>);</span>
</span><span id=__span-2-45><a id=__codelineno-2-45 name=__codelineno-2-45 href=#__codelineno-2-45></a>
</span><span id=__span-2-46><a id=__codelineno-2-46 name=__codelineno-2-46 href=#__codelineno-2-46></a><span class=w>    </span><span class=c1>// Draw the cube (36 indices for a cube: 6 faces * 2 triangles * 3 vertices)</span>
</span><span id=__span-2-47><a id=__codelineno-2-47 name=__codelineno-2-47 href=#__codelineno-2-47></a><span class=w>    </span><span class=n>vkCmdDrawIndexed</span><span class=p>(</span><span class=n>g_commandBuffers</span><span class=p>[</span><span class=n>imageIndex</span><span class=p>],</span><span class=w> </span><span class=mi>36</span><span class=p>,</span><span class=w> </span><span class=mi>1</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>,</span><span class=w> </span><span class=mi>0</span><span class=p>);</span>
</span><span id=__span-2-48><a id=__codelineno-2-48 name=__codelineno-2-48 href=#__codelineno-2-48></a><span class=p>}</span>
</span></code></pre></div></p> <p><strong>Expected Behavior:</strong> - Loops through all colored cubes - Updates uniform buffer with each cube's model matrix (translation only, no scaling) - Binds each cube's vertex buffer - Draws each cube using the shared index buffer</p> <p><strong>Potential Issues:</strong> 1. The uniform buffer update overwrites the view/projection matrices - but these should be the same for all cubes, so this should be fine 2. The index buffer <code>g_fpsCubeIndexBuffer</code> is shared - this should work if all cubes use the same index pattern 3. The loop might not execute if <code>g_numColoredCubes == 0</code></p> <h3 id=4-global-variables-vulkaneden_vulkan_helperscpp-lines-2133-2136>4. Global Variables (vulkan/eden_vulkan_helpers.cpp, lines ~2133-2136)<a class=headerlink href=#4-global-variables-vulkaneden_vulkan_helperscpp-lines-2133-2136 title="Permanent link">&para;</a></h3> <p><strong>Location:</strong> Top of file, static variables</p> <p><strong>Current Code:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=c1>// Colored reference cubes (1x1x1 cubes for spatial reference)</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=k>static</span><span class=w> </span><span class=n>VkBuffer</span><span class=w> </span><span class=n>g_coloredCubeVertexBuffers</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>VK_NULL_HANDLE</span><span class=p>};</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a><span class=k>static</span><span class=w> </span><span class=n>VkDeviceMemory</span><span class=w> </span><span class=n>g_coloredCubeVertexBufferMemory</span><span class=p>[</span><span class=mi>10</span><span class=p>]</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=p>{</span><span class=n>VK_NULL_HANDLE</span><span class=p>};</span>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=k>static</span><span class=w> </span><span class=kt>int</span><span class=w> </span><span class=n>g_numColoredCubes</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span>
</span></code></pre></div></p> <p><strong>Expected Behavior:</strong> - Stores vertex buffers and memory for up to 10 colored cubes - <code>g_numColoredCubes</code> tracks how many were created</p> <h2 id=root-cause-analysis>Root Cause Analysis<a class=headerlink href=#root-cause-analysis title="Permanent link">&para;</a></h2> <h3 id=issue-1-floor-cube-appears-1x1x1>Issue 1: Floor Cube Appears 1x1x1<a class=headerlink href=#issue-1-floor-cube-appears-1x1x1 title="Permanent link">&para;</a></h3> <p><strong>Hypothesis:</strong> The model matrix scaling is not being applied, or the uniform buffer is being overwritten before the floor cube is drawn.</p> <p><strong>Evidence:</strong> - Floor cube vertices are defined as -1.0 to 1.0 (2x2x2 cube) - Model matrix should scale by 25x0.5x25 to produce 50x1x50 floor - User reports seeing 1x1x1 cube instead</p> <p><strong>Possible Causes:</strong> 1. The uniform buffer update for the floor cube happens, but then gets overwritten by colored cube rendering before the floor is drawn 2. The model matrix calculation is incorrect (order of operations) 3. The shader is not reading the model matrix correctly</p> <p><strong>Code Flow:</strong> 1. Floor model matrix is set (line ~2511-2514) 2. Uniform buffer is updated with floor model matrix (line ~2576-2580) 3. Floor cube is drawn (line ~2604) 4. Then colored cubes are rendered (line ~2628+)</p> <p>The floor should be drawn before colored cubes, so the uniform buffer shouldn't be overwritten. However, the uniform buffer is updated again for each colored cube, which might cause issues if the floor draw hasn't completed.</p> <h3 id=issue-2-colored-cubes-not-visible>Issue 2: Colored Cubes Not Visible<a class=headerlink href=#issue-2-colored-cubes-not-visible title="Permanent link">&para;</a></h3> <p><strong>Hypothesis:</strong> The colored cubes are either not being created, not being rendered, or are being rendered but not visible (wrong position, culled, etc.)</p> <p><strong>Evidence:</strong> - User reports no colored cubes visible - Code creates 9 colored cubes in init function - Code attempts to render them in render function</p> <p><strong>Possible Causes:</strong> 1. <code>g_numColoredCubes</code> is 0 (cubes weren't created) 2. Vertex buffers are NULL (creation failed) 3. Cubes are being rendered but are: - Behind the camera - Outside the view frustum - Being culled (back face culling) - Too small to see - Being drawn but with wrong matrices (view/proj not updated)</p> <p><strong>Code Flow:</strong> 1. Colored cubes are created in <code>heidic_init_renderer_fps()</code> (line ~2230-2275) 2. <code>g_numColoredCubes</code> is set to 9 3. In render function, loop checks <code>g_numColoredCubes</code> (line ~2628) 4. For each cube, updates uniform buffer with cube's model matrix 5. But: The view and projection matrices in <code>ubo</code> are set BEFORE the floor cube is drawn 6. When colored cubes are rendered, the view/proj matrices should still be in <code>ubo</code>, but we're only updating <code>ubo.model</code></p> <p><strong>Critical Issue:</strong> When updating the uniform buffer for colored cubes, we're doing: <div class="language-cpp highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=n>ubo</span><span class=p>.</span><span class=n>model</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cubeModel</span><span class=p>;</span><span class=w>  </span><span class=c1>// Only updates model matrix</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=n>memcpy</span><span class=p>(</span><span class=n>cubeData</span><span class=p>,</span><span class=w> </span><span class=o>&amp;</span><span class=n>ubo</span><span class=p>,</span><span class=w> </span><span class=k>sizeof</span><span class=p>(</span><span class=n>ubo</span><span class=p>));</span><span class=w>  </span><span class=c1>// Copies entire ubo (including view/proj)</span>
</span></code></pre></div></p> <p>This should work IF <code>ubo.view</code> and <code>ubo.proj</code> are still set from earlier. But if they were overwritten or not set, the cubes won't render correctly.</p> <h2 id=recommended-fixes>Recommended Fixes<a class=headerlink href=#recommended-fixes title="Permanent link">&para;</a></h2> <h3 id=fix-1-preserve-viewprojection-matrices-for-colored-cubes>Fix 1: Preserve View/Projection Matrices for Colored Cubes<a class=headerlink href=#fix-1-preserve-viewprojection-matrices-for-colored-cubes title="Permanent link">&para;</a></h3> <p><strong>Problem:</strong> When rendering colored cubes, we update <code>ubo.model</code> but need to ensure <code>ubo.view</code> and <code>ubo.proj</code> are still set.</p> <p><strong>Solution:</strong> Store view and projection matrices before the loop, or recalculate them for each cube (they should be the same).</p> <p><strong>Code Change:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=c1>// Before colored cube loop, ensure view/proj are set</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=c1>// (They should already be set from floor cube rendering)</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=c1>// But to be safe, recalculate or store them</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=c1>// Then in loop:</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=n>ubo</span><span class=p>.</span><span class=n>model</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>cubeModel</span><span class=p>;</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=c1>// ubo.view and ubo.proj should already be set from floor cube</span>
</span></code></pre></div></p> <h3 id=fix-2-verify-floor-model-matrix-order>Fix 2: Verify Floor Model Matrix Order<a class=headerlink href=#fix-2-verify-floor-model-matrix-order title="Permanent link">&para;</a></h3> <p><strong>Problem:</strong> Matrix multiplication order might be wrong.</p> <p><strong>Current:</strong> <code>scale</code> then <code>translate</code> <strong>Should be:</strong> <code>translate</code> then <code>scale</code>? Or <code>scale</code> then <code>translate</code>?</p> <p>For a floor, we want to: 1. Scale the cube to be large and flat 2. Translate it down so top is at y=0</p> <p>Current order: <code>scale(25, 0.5, 25)</code> then <code>translate(0, -0.5, 0)</code> - This scales first, then translates - Translation is in world space, not scaled space - So translate(0, -0.5, 0) moves by 0.5 units in world space</p> <p>If we want the top at y=0, and the cube is scaled to 0.5 in Y (so height is 1 unit), and vertices go from -1 to 1 (so unscaled height is 2), then: - Scaled height = 2 * 0.5 = 1 unit - Bottom of scaled cube = -1 * 0.5 = -0.5 - Top of scaled cube = 1 * 0.5 = 0.5 - To move top to y=0, we need to translate by -0.5</p> <p>So the current translation seems correct. But maybe the issue is that we need to translate FIRST, then scale?</p> <p>Actually, in matrix multiplication, <code>M = T * S</code> means "scale first, then translate" (right-to-left reading). But in code, <code>model = scale(model, ...)</code> then <code>model = translate(model, ...)</code> means we're doing <code>T * S</code>, which is "scale first, then translate in world space".</p> <p>For a floor, we probably want to translate in local space first, then scale. So we should do <code>S * T</code>, which means <code>translate</code> first, then <code>scale</code>.</p> <p><strong>Fix:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=n>glm</span><span class=o>::</span><span class=n>mat4</span><span class=w> </span><span class=n>floorModel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>mat4</span><span class=p>(</span><span class=mf>1.0f</span><span class=p>);</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=n>floorModel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>translate</span><span class=p>(</span><span class=n>floorModel</span><span class=p>,</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>0.0f</span><span class=p>,</span><span class=w> </span><span class=mf>-0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>0.0f</span><span class=p>));</span><span class=w>  </span><span class=c1>// Translate first</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=n>floorModel</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>scale</span><span class=p>(</span><span class=n>floorModel</span><span class=p>,</span><span class=w> </span><span class=n>glm</span><span class=o>::</span><span class=n>vec3</span><span class=p>(</span><span class=mf>25.0f</span><span class=p>,</span><span class=w> </span><span class=mf>0.5f</span><span class=p>,</span><span class=w> </span><span class=mf>25.0f</span><span class=p>));</span><span class=w>  </span><span class=c1>// Then scale</span>
</span></code></pre></div></p> <h3 id=fix-3-add-debug-output-one-time-not-per-frame>Fix 3: Add Debug Output (One-Time, Not Per-Frame)<a class=headerlink href=#fix-3-add-debug-output-one-time-not-per-frame title="Permanent link">&para;</a></h3> <p><strong>Problem:</strong> Need to verify cubes are created and being rendered.</p> <p><strong>Solution:</strong> Add one-time debug output in init and first render.</p> <p><strong>Code Change:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=c1>// In init, after creating cubes:</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>g_numColoredCubes</span><span class=w> </span><span class=o>&gt;</span><span class=w> </span><span class=mi>0</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;[FPS] Successfully created &quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>g_numColoredCubes</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot; colored cubes&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cerr</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;[FPS] ERROR: Failed to create colored cubes!&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=p>}</span>
</span><span id=__span-7-7><a id=__codelineno-7-7 name=__codelineno-7-7 href=#__codelineno-7-7></a>
</span><span id=__span-7-8><a id=__codelineno-7-8 name=__codelineno-7-8 href=#__codelineno-7-8></a><span class=c1>// In render, first frame only:</span>
</span><span id=__span-7-9><a id=__codelineno-7-9 name=__codelineno-7-9 href=#__codelineno-7-9></a><span class=k>static</span><span class=w> </span><span class=kt>bool</span><span class=w> </span><span class=n>firstRender</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>true</span><span class=p>;</span>
</span><span id=__span-7-10><a id=__codelineno-7-10 name=__codelineno-7-10 href=#__codelineno-7-10></a><span class=k>if</span><span class=w> </span><span class=p>(</span><span class=n>firstRender</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-11><a id=__codelineno-7-11 name=__codelineno-7-11 href=#__codelineno-7-11></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>cout</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=s>&quot;[FPS] First render: g_numColoredCubes=&quot;</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>g_numColoredCubes</span><span class=w> </span><span class=o>&lt;&lt;</span><span class=w> </span><span class=n>std</span><span class=o>::</span><span class=n>endl</span><span class=p>;</span>
</span><span id=__span-7-12><a id=__codelineno-7-12 name=__codelineno-7-12 href=#__codelineno-7-12></a><span class=w>    </span><span class=n>firstRender</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=nb>false</span><span class=p>;</span>
</span><span id=__span-7-13><a id=__codelineno-7-13 name=__codelineno-7-13 href=#__codelineno-7-13></a><span class=p>}</span>
</span></code></pre></div></p> <h2 id=files-modified>Files Modified<a class=headerlink href=#files-modified title="Permanent link">&para;</a></h2> <ol> <li><code>vulkan/eden_vulkan_helpers.cpp</code></li> <li>Lines ~2133-2136: Global variables for colored cubes</li> <li>Lines ~2230-2275: Colored cube creation in <code>heidic_init_renderer_fps()</code></li> <li>Lines ~2508-2514: Floor cube model matrix in <code>heidic_render_fps()</code></li> <li>Lines ~2606-2656: Colored cube rendering in <code>heidic_render_fps()</code></li> <li>Lines ~2670-2685: Cleanup code in <code>heidic_cleanup_renderer_fps()</code></li> </ol> <h2 id=test-case>Test Case<a class=headerlink href=#test-case title="Permanent link">&para;</a></h2> <p><strong>Expected Result:</strong> - Large gray floor plane (50x1x50 units) visible - 9 colored 1x1x1 cubes visible on top of floor at: - Red at (0, 0.5, 0) - Green at (5, 0.5, 0) - Blue at (-5, 0.5, 0) - Yellow at (0, 0.5, 5) - Magenta at (0, 0.5, -5) - Cyan at (5, 0.5, 5) - Orange at (-5, 0.5, -5) - Light blue at (10, 0.5, 0) - Pink at (-10, 0.5, 0)</p> <p><strong>Actual Result:</strong> - Floor appears as 1x1x1 cube - No colored cubes visible</p> <h2 id=next-steps>Next Steps<a class=headerlink href=#next-steps title="Permanent link">&para;</a></h2> <ol> <li>Verify <code>g_numColoredCubes</code> is 9 after init</li> <li>Verify colored cube vertex buffers are not NULL</li> <li>Fix floor model matrix order (translate then scale)</li> <li>Ensure view/projection matrices are preserved when rendering colored cubes</li> <li>Add one-time debug output to verify rendering loop executes</li> </ol> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 HEIDIC Project </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/JasonDube/HEIDIC target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.annotate", "content.code.copy", "content.action.edit"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../assets/javascripts/bundle.e71a0d61.min.js></script> </body> </html>