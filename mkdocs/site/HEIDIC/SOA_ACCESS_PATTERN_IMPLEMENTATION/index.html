<!doctype html><html lang=en class=no-js> <head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content="Complete documentation for the HEIDIC programming language and EDEN Engine ecosystem"><meta name=author content="HEIDIC Project"><link href=https://heidic.dev/HEIDIC/SOA_ACCESS_PATTERN_IMPLEMENTATION/ rel=canonical><link rel=icon href=../../assets/images/favicon.png><meta name=generator content="mkdocs-1.6.1, mkdocs-material-9.7.0"><title>SOA Access Pattern Clarity - Implementation Report - HEIDIC Documentation</title><link rel=stylesheet href=../../assets/stylesheets/main.618322db.min.css><link rel=stylesheet href=../../assets/stylesheets/palette.ab4e12ef.min.css><link rel=preconnect href=https://fonts.gstatic.com crossorigin><link rel=stylesheet href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback"><style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style><link rel=stylesheet href=../../../public-docs/stylesheets/extra.css><script>__md_scope=new URL("../..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script></head> <body dir=ltr data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo> <input class=md-toggle data-md-toggle=drawer type=checkbox id=__drawer autocomplete=off> <input class=md-toggle data-md-toggle=search type=checkbox id=__search autocomplete=off> <label class=md-overlay for=__drawer></label> <div data-md-component=skip> <a href=#soa-access-pattern-clarity-implementation-report class=md-skip> Skip to content </a> </div> <div data-md-component=announce> </div> <div data-md-color-scheme=default data-md-component=outdated hidden> </div> <header class=md-header data-md-component=header> <nav class="md-header__inner md-grid" aria-label=Header> <a href=../.. title="HEIDIC Documentation" class="md-header__button md-logo" aria-label="HEIDIC Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> <label class="md-header__button md-icon" for=__drawer> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg> </label> <div class=md-header__title data-md-component=header-title> <div class=md-header__ellipsis> <div class=md-header__topic> <span class=md-ellipsis> HEIDIC Documentation </span> </div> <div class=md-header__topic data-md-component=header-topic> <span class=md-ellipsis> SOA Access Pattern Clarity - Implementation Report </span> </div> </div> </div> <form class=md-header__option data-md-component=palette> <input class=md-option data-md-color-media data-md-color-scheme=default data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to dark mode" type=radio name=__palette id=__palette_0> <label class="md-header__button md-icon" title="Switch to dark mode" for=__palette_1 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> <input class=md-option data-md-color-media data-md-color-scheme=slate data-md-color-primary=indigo data-md-color-accent=indigo aria-label="Switch to light mode" type=radio name=__palette id=__palette_1> <label class="md-header__button md-icon" title="Switch to light mode" for=__palette_0 hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg> </label> </form> <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script> <label class="md-header__button md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> </label> <div class=md-search data-md-component=search role=dialog> <label class=md-search__overlay for=__search></label> <div class=md-search__inner role=search> <form class=md-search__form name=search> <input type=text class=md-search__input name=query aria-label=Search placeholder=Search autocapitalize=off autocorrect=off autocomplete=off spellcheck=false data-md-component=search-query required> <label class="md-search__icon md-icon" for=__search> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg> </label> <nav class=md-search__options aria-label=Search> <button type=reset class="md-search__icon md-icon" title=Clear aria-label=Clear tabindex=-1> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg> </button> </nav> <div class=md-search__suggest data-md-component=search-suggest></div> </form> <div class=md-search__output> <div class=md-search__scrollwrap tabindex=0 data-md-scrollfix> <div class=md-search-result data-md-component=search-result> <div class=md-search-result__meta> Initializing search </div> <ol class=md-search-result__list role=presentation></ol> </div> </div> </div> </div> </div> <div class=md-header__source> <a href=https://github.com/yourusername/heidic title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> HEIDIC </div> </a> </div> </nav> </header> <div class=md-container data-md-component=container> <nav class=md-tabs aria-label=Tabs data-md-component=tabs> <div class=md-grid> <ul class=md-tabs__list> <li class=md-tabs__item> <a href=../.. class=md-tabs__link> Home </a> </li> <li class=md-tabs__item> <a href=../../FEATURES/ class=md-tabs__link> Features </a> </li> <li class=md-tabs__item> <a href=../../EXAMPLES/ class=md-tabs__link> Examples </a> </li> <li class=md-tabs__item> <a href=../INTRODUCTION/ class=md-tabs__link> Getting Started </a> </li> <li class=md-tabs__item> <a href=../LANGUAGE/ class=md-tabs__link> Language Reference </a> </li> <li class=md-tabs__item> <a href=../../ECS/ECS_QUERIES_EXPLAINED/ class=md-tabs__link> ECS & Components </a> </li> <li class=md-tabs__item> <a href=../../CONTINUUM-HOT%20RELOAD%20DOCS/HOT_RELOADING_EXPLAINED/ class=md-tabs__link> Engine Features </a> </li> <li class=md-tabs__item> <a href=../HEIROC_ARCHITECTURE/ class=md-tabs__link> Tools & Ecosystem </a> </li> <li class=md-tabs__item> <a href=../../DDS_FORMAT_GUIDE/ class=md-tabs__link> Resources & Formats </a> </li> <li class=md-tabs__item> <a href=../../KNOWLEDGE%20BASE/shaders_explained/ class=md-tabs__link> Knowledge Base </a> </li> <li class=md-tabs__item> <a href=../HEIDIC_ROADMAP/ class=md-tabs__link> Development </a> </li> </ul> </div> </nav> <main class=md-main data-md-component=main> <div class="md-main__inner md-grid"> <div class="md-sidebar md-sidebar--primary" data-md-component=sidebar data-md-type=navigation> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--primary md-nav--lifted" aria-label=Navigation data-md-level=0> <label class=md-nav__title for=__drawer> <a href=../.. title="HEIDIC Documentation" class="md-nav__button md-logo" aria-label="HEIDIC Documentation" data-md-component=logo> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg> </a> HEIDIC Documentation </label> <div class=md-nav__source> <a href=https://github.com/yourusername/heidic title="Go to repository" class=md-source data-md-component=source> <div class="md-source__icon md-icon"> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </div> <div class=md-source__repository> HEIDIC </div> </a> </div> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../.. class=md-nav__link> <span class=md-ellipsis> Home </span> </a> </li> <li class=md-nav__item> <a href=../../FEATURES/ class=md-nav__link> <span class=md-ellipsis> Features </span> </a> </li> <li class=md-nav__item> <a href=../../EXAMPLES/ class=md-nav__link> <span class=md-ellipsis> Examples </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_4> <label class=md-nav__link for=__nav_4 id=__nav_4_label tabindex=0> <span class=md-ellipsis> Getting Started </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_4_label aria-expanded=false> <label class=md-nav__title for=__nav_4> <span class="md-nav__icon md-icon"></span> Getting Started </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../INTRODUCTION/ class=md-nav__link> <span class=md-ellipsis> Introduction </span> </a> </li> <li class=md-nav__item> <a href=../ class=md-nav__link> <span class=md-ellipsis> Quick Start </span> </a> </li> <li class=md-nav__item> <a href=../../EDEN_VS_HEIDIC/ class=md-nav__link> <span class=md-ellipsis> EDEN vs HEIDIC </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_5> <label class=md-nav__link for=__nav_5 id=__nav_5_label tabindex=0> <span class=md-ellipsis> Language Reference </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_5_label aria-expanded=false> <label class=md-nav__title for=__nav_5> <span class="md-nav__icon md-icon"></span> Language Reference </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../LANGUAGE/ class=md-nav__link> <span class=md-ellipsis> Language Specification </span> </a> </li> <li class=md-nav__item> <a href=../LANGUAGE_REFERENCE/ class=md-nav__link> <span class=md-ellipsis> Complete Reference </span> </a> </li> <li class=md-nav__item> <a href=../ERROR_TYPES/ class=md-nav__link> <span class=md-ellipsis> Error Types </span> </a> </li> <li class=md-nav__item> <a href=../HEIDIC_VS_CPP/ class=md-nav__link> <span class=md-ellipsis> HEIDIC vs C++ </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_6> <label class=md-nav__link for=__nav_6 id=__nav_6_label tabindex=0> <span class=md-ellipsis> ECS & Components </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_6_label aria-expanded=false> <label class=md-nav__title for=__nav_6> <span class="md-nav__icon md-icon"></span> ECS & Components </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../ECS/ECS_QUERIES_EXPLAINED/ class=md-nav__link> <span class=md-ellipsis> ECS Queries Explained </span> </a> </li> <li class=md-nav__item> <a href=../../ECS/COMPONENT_FRAMEWORK_GUIDE/ class=md-nav__link> <span class=md-ellipsis> Component Framework </span> </a> </li> <li class=md-nav__item> <a href=../../SOA%20DOCS/SOA_ACCESS_PATTERN_EXPLAINED/ class=md-nav__link> <span class=md-ellipsis> SOA Access Pattern </span> </a> </li> <li class=md-nav__item> <a href=../../ECS/ENTITY_SYSTEM_ANALYSIS/ class=md-nav__link> <span class=md-ellipsis> Entity System Analysis </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7> <label class=md-nav__link for=__nav_7 id=__nav_7_label tabindex=0> <span class=md-ellipsis> Engine Features </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_7_label aria-expanded=false> <label class=md-nav__title for=__nav_7> <span class="md-nav__icon md-icon"></span> Engine Features </label> <ul class=md-nav__list data-md-scrollfix> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_7_1> <label class=md-nav__link for=__nav_7_1 id=__nav_7_1_label tabindex=0> <span class=md-ellipsis> CONTINUUM Hot-Reload </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_7_1_label aria-expanded=false> <label class=md-nav__title for=__nav_7_1> <span class="md-nav__icon md-icon"></span> CONTINUUM Hot-Reload </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../CONTINUUM-HOT%20RELOAD%20DOCS/HOT_RELOADING_EXPLAINED/ class=md-nav__link> <span class=md-ellipsis> Overview </span> </a> </li> <li class=md-nav__item> <a href=../../CONTINUUM-HOT%20RELOAD%20DOCS/CONTINUUM/ class=md-nav__link> <span class=md-ellipsis> CONTINUUM System </span> </a> </li> <li class=md-nav__item> <a href=../../CONTINUUM-HOT%20RELOAD%20DOCS/component_hotload_explained/ class=md-nav__link> <span class=md-ellipsis> Component Hot-Load </span> </a> </li> <li class=md-nav__item> <a href=../../CONTINUUM-HOT%20RELOAD%20DOCS/HOT_RELOAD_IMPLEMENTATION_STATUS/ class=md-nav__link> <span class=md-ellipsis> Implementation Status </span> </a> </li> <li class=md-nav__item> <a href=../../CONTINUUM-HOT%20RELOAD%20DOCS/HOT_RELOAD_TESTING/ class=md-nav__link> <span class=md-ellipsis> Testing </span> </a> </li> </ul> </nav> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_8> <label class=md-nav__link for=__nav_8 id=__nav_8_label tabindex=0> <span class=md-ellipsis> Tools & Ecosystem </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_8_label aria-expanded=false> <label class=md-nav__title for=__nav_8> <span class="md-nav__icon md-icon"></span> Tools & Ecosystem </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../HEIROC_ARCHITECTURE/ class=md-nav__link> <span class=md-ellipsis> HEIROC Scripting </span> </a> </li> <li class=md-nav__item> <a href="../../Electroscribe, ESE, and NEUROSHELL docs are in their respective directories" class=md-nav__link> <span class=md-ellipsis> Note </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_9> <label class=md-nav__link for=__nav_9 id=__nav_9_label tabindex=0> <span class=md-ellipsis> Resources & Formats </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_9_label aria-expanded=false> <label class=md-nav__title for=__nav_9> <span class="md-nav__icon md-icon"></span> Resources & Formats </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../DDS_FORMAT_GUIDE/ class=md-nav__link> <span class=md-ellipsis> DDS Format Guide </span> </a> </li> <li class=md-nav__item> <a href=../../DDS_TEXTURE_STRATEGY/ class=md-nav__link> <span class=md-ellipsis> DDS Texture Strategy </span> </a> </li> <li class=md-nav__item> <a href=../../RESOURCE_SYSTEM_PLAN/ class=md-nav__link> <span class=md-ellipsis> Resource System Plan </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_10> <label class=md-nav__link for=__nav_10 id=__nav_10_label tabindex=0> <span class=md-ellipsis> Knowledge Base </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_10_label aria-expanded=false> <label class=md-nav__title for=__nav_10> <span class="md-nav__icon md-icon"></span> Knowledge Base </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../KNOWLEDGE%20BASE/shaders_explained/ class=md-nav__link> <span class=md-ellipsis> Shaders Explained </span> </a> </li> <li class=md-nav__item> <a href=../../KNOWLEDGE%20BASE/stage_field_explanation/ class=md-nav__link> <span class=md-ellipsis> Stage Field Explanation </span> </a> </li> <li class=md-nav__item> <a href=../../ZERO%20BOILERPLATE/ZERO_BOILERPLATE_EXPLAINED/ class=md-nav__link> <span class=md-ellipsis> Zero Boilerplate </span> </a> </li> </ul> </nav> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11> <label class=md-nav__link for=__nav_11 id=__nav_11_label tabindex=0> <span class=md-ellipsis> Development </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=1 aria-labelledby=__nav_11_label aria-expanded=false> <label class=md-nav__title for=__nav_11> <span class="md-nav__icon md-icon"></span> Development </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../HEIDIC_ROADMAP/ class=md-nav__link> <span class=md-ellipsis> Roadmap </span> </a> </li> <li class=md-nav__item> <a href=../SPRINT1_IMPLEMENTATION_PLAN/ class=md-nav__link> <span class=md-ellipsis> Sprint 1 Plan </span> </a> </li> <li class="md-nav__item md-nav__item--nested"> <input class="md-nav__toggle md-toggle md-toggle--indeterminate" type=checkbox id=__nav_11_3> <label class=md-nav__link for=__nav_11_3 id=__nav_11_3_label tabindex=0> <span class=md-ellipsis> Implementation Plans </span> <span class="md-nav__icon md-icon"></span> </label> <nav class=md-nav data-md-level=2 aria-labelledby=__nav_11_3_label aria-expanded=false> <label class=md-nav__title for=__nav_11_3> <span class="md-nav__icon md-icon"></span> Implementation Plans </label> <ul class=md-nav__list data-md-scrollfix> <li class=md-nav__item> <a href=../../SOA%20DOCS/SOA_IMPLEMENTATION_PLAN/ class=md-nav__link> <span class=md-ellipsis> SOA Implementation </span> </a> </li> <li class=md-nav__item> <a href=../CUDA_OPTIX_INTEROP_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> CUDA/OptiX Interop </span> </a> </li> <li class=md-nav__item> <a href=../PATTERN_MATCHING_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> Pattern Matching </span> </a> </li> <li class=md-nav__item> <a href=../TYPE_INFERENCE_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> Type Inference </span> </a> </li> <li class=md-nav__item> <a href=../MEMORY_OWNERSHIP_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> Memory Ownership </span> </a> </li> <li class=md-nav__item> <a href=../STRING_HANDLING_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> String Handling </span> </a> </li> <li class=md-nav__item> <a href=../OPTIONAL_TYPES_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> Optional Types </span> </a> </li> <li class=md-nav__item> <a href=../DEFER_STATEMENTS_IMPLEMENTATION/ class=md-nav__link> <span class=md-ellipsis> Defer Statements </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=../../LLM%20TAKES/REVIEWS_SUMMARY/ class=md-nav__link> <span class=md-ellipsis> LLM Reviews </span> </a> </li> </ul> </nav> </li> </ul> </nav> </div> </div> </div> <div class="md-sidebar md-sidebar--secondary" data-md-component=sidebar data-md-type=toc> <div class=md-sidebar__scrollwrap> <div class=md-sidebar__inner> <nav class="md-nav md-nav--secondary" aria-label="Table of contents"> <label class=md-nav__title for=__toc> <span class="md-nav__icon md-icon"></span> Table of contents </label> <ul class=md-nav__list data-md-component=toc data-md-scrollfix> <li class=md-nav__item> <a href=#executive-summary class=md-nav__link> <span class=md-ellipsis> Executive Summary </span> </a> </li> <li class=md-nav__item> <a href=#what-was-implemented class=md-nav__link> <span class=md-ellipsis> What Was Implemented </span> </a> <nav class=md-nav aria-label="What Was Implemented"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#soa-component-detection class=md-nav__link> <span class=md-ellipsis> ‚úÖ SOA Component Detection </span> </a> </li> <li class=md-nav__item> <a href=#soa-component-validation class=md-nav__link> <span class=md-ellipsis> ‚úÖ SOA Component Validation </span> </a> </li> <li class=md-nav__item> <a href=#transparent-access-pattern class=md-nav__link> <span class=md-ellipsis> ‚úÖ Transparent Access Pattern </span> </a> </li> <li class=md-nav__item> <a href=#code-generation class=md-nav__link> <span class=md-ellipsis> ‚úÖ Code Generation </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#implementation-details class=md-nav__link> <span class=md-ellipsis> Implementation Details </span> </a> <nav class=md-nav aria-label="Implementation Details"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#lexer-changes-srclexerrs class=md-nav__link> <span class=md-ellipsis> Lexer Changes (src/lexer.rs) </span> </a> </li> <li class=md-nav__item> <a href=#parser-changes-srcparserrs class=md-nav__link> <span class=md-ellipsis> Parser Changes (src/parser.rs) </span> </a> </li> <li class=md-nav__item> <a href=#ast-changes-srcastrs class=md-nav__link> <span class=md-ellipsis> AST Changes (src/ast.rs) </span> </a> </li> <li class=md-nav__item> <a href=#type-checker-changes-srctype_checkerrs class=md-nav__link> <span class=md-ellipsis> Type Checker Changes (src/type_checker.rs) </span> </a> </li> <li class=md-nav__item> <a href=#code-generator-changes-srccodegenrs class=md-nav__link> <span class=md-ellipsis> Code Generator Changes (src/codegen.rs) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#usage-examples class=md-nav__link> <span class=md-ellipsis> Usage Examples </span> </a> <nav class=md-nav aria-label="Usage Examples"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#mixed-aos-soa-query class=md-nav__link> <span class=md-ellipsis> Mixed AoS + SOA Query </span> </a> </li> <li class=md-nav__item> <a href=#soa-only-query class=md-nav__link> <span class=md-ellipsis> SOA-Only Query </span> </a> </li> <li class=md-nav__item> <a href=#aos-only-query class=md-nav__link> <span class=md-ellipsis> AoS-Only Query </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#known-limitations class=md-nav__link> <span class=md-ellipsis> Known Limitations </span> </a> <nav class=md-nav aria-label="Known Limitations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#1-no-array-length-consistency-validation-critical-issue class=md-nav__link> <span class=md-ellipsis> 1. No Array Length Consistency Validation ‚ö†Ô∏è CRITICAL ISSUE </span> </a> </li> <li class=md-nav__item> <a href=#2-runtime-storage-model-not-documented-critical-gap class=md-nav__link> <span class=md-ellipsis> 2. Runtime Storage Model Not Documented ‚ö†Ô∏è CRITICAL GAP </span> </a> </li> <li class=md-nav__item> <a href=#3-entity-indexing-semantics-not-clarified-needs-clarification class=md-nav__link> <span class=md-ellipsis> 3. Entity Indexing Semantics Not Clarified ‚ö†Ô∏è NEEDS CLARIFICATION </span> </a> </li> <li class=md-nav__item> <a href=#4-no-simd-vectorization-missed-opportunity class=md-nav__link> <span class=md-ellipsis> 4. No SIMD Vectorization ‚ö†Ô∏è MISSED OPPORTUNITY </span> </a> </li> <li class=md-nav__item> <a href=#6-no-direct-array-access-outside-queries class=md-nav__link> <span class=md-ellipsis> 6. No Direct Array Access Outside Queries </span> </a> </li> <li class=md-nav__item> <a href=#7-no-mixed-aossoa-in-same-component class=md-nav__link> <span class=md-ellipsis> 7. No Mixed AoS/SOA in Same Component </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#future-improvements-prioritized-by-frontier-team class=md-nav__link> <span class=md-ellipsis> Future Improvements (Prioritized by Frontier Team) </span> </a> <nav class=md-nav aria-label="Future Improvements (Prioritized by Frontier Team)"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#critical-fixes-required-before-shipping class=md-nav__link> <span class=md-ellipsis> üî¥ CRITICAL FIXES (Required Before Shipping) </span> </a> </li> <li class=md-nav__item> <a href=#high-priority-important-enhancements class=md-nav__link> <span class=md-ellipsis> üü° HIGH PRIORITY (Important Enhancements) </span> </a> </li> <li class=md-nav__item> <a href=#medium-priority-nice-to-have-features class=md-nav__link> <span class=md-ellipsis> üü¢ MEDIUM PRIORITY (Nice-to-Have Features) </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#testing-recommendations class=md-nav__link> <span class=md-ellipsis> Testing Recommendations </span> </a> <nav class=md-nav aria-label="Testing Recommendations"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#unit-tests class=md-nav__link> <span class=md-ellipsis> Unit Tests </span> </a> </li> <li class=md-nav__item> <a href=#integration-tests class=md-nav__link> <span class=md-ellipsis> Integration Tests </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#critical-misses class=md-nav__link> <span class=md-ellipsis> Critical Misses </span> </a> <nav class=md-nav aria-label="Critical Misses"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#what-we-got-right class=md-nav__link> <span class=md-ellipsis> What We Got Right ‚úÖ </span> </a> </li> <li class=md-nav__item> <a href=#what-we-missed class=md-nav__link> <span class=md-ellipsis> What We Missed ‚ö†Ô∏è </span> </a> </li> <li class=md-nav__item> <a href=#why-these-misses-are-acceptable class=md-nav__link> <span class=md-ellipsis> Why These Misses Are Acceptable </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#comparison-to-industry-standards class=md-nav__link> <span class=md-ellipsis> Comparison to Industry Standards </span> </a> <nav class=md-nav aria-label="Comparison to Industry Standards"> <ul class=md-nav__list> <li class=md-nav__item> <a href=#vs-flecs-ecs-framework class=md-nav__link> <span class=md-ellipsis> vs. Flecs (ECS Framework) </span> </a> </li> <li class=md-nav__item> <a href=#vs-bevy-ecs-framework class=md-nav__link> <span class=md-ellipsis> vs. Bevy (ECS Framework) </span> </a> </li> <li class=md-nav__item> <a href=#vs-cudaoptix class=md-nav__link> <span class=md-ellipsis> vs. CUDA/OptiX </span> </a> </li> </ul> </nav> </li> <li class=md-nav__item> <a href=#conclusion class=md-nav__link> <span class=md-ellipsis> Conclusion </span> </a> </li> </ul> </nav> </div> </div> </div> <div class=md-content data-md-component=content> <article class="md-content__inner md-typeset"> <h1 id=soa-access-pattern-clarity-implementation-report>SOA Access Pattern Clarity - Implementation Report<a class=headerlink href=#soa-access-pattern-clarity-implementation-report title="Permanent link">&para;</a></h1> <blockquote> <p><strong>Status:</strong> ‚úÖ <strong>COMPLETE</strong> - SOA access pattern implemented with transparent syntax<br> <strong>Priority:</strong> HIGH<br> <strong>Effort:</strong> ~1 week (actual: Already implemented as part of query iteration)<br> <strong>Impact:</strong> Makes SOA components usable with same syntax as AoS, eliminating confusion.</p> </blockquote> <hr> <h2 id=executive-summary>Executive Summary<a class=headerlink href=#executive-summary title="Permanent link">&para;</a></h2> <p>The SOA Access Pattern Clarity feature ensures that Structure-of-Arrays (SOA) components can be accessed with the same syntax as Array-of-Structures (AoS) components in query iterations. The compiler automatically generates the correct access pattern (<code>velocities.x[i]</code> for SOA vs <code>positions[i].x</code> for AoS), making SOA components transparent and easy to use.</p> <p><strong>Key Achievement:</strong> Zero syntax difference - developers write <code>entity.Velocity.x</code> for both AoS and SOA components, and the compiler generates the correct access pattern based on component type. This eliminates confusion and makes SOA components as easy to use as AoS components.</p> <p><strong>Frontier Team Evaluation Score:</strong> <strong>9.8/10</strong> (Transparent Triumph, Performance Pinnacle) / <strong>B+/A-</strong></p> <p><strong>Frontier Team Consensus:</strong> "You've engineered a seamless gem with this SOA Access Pattern Clarity‚Äîit's a <strong>brilliant usability coup</strong> that makes HEIDIC's SOA components feel like magic, hiding complexity while delivering cache-friendly perf for games. The core abstraction‚Äîtransparent syntax that hides layout differences‚Äîis well-designed and correctly implemented. This is genuinely useful for game development where you want to experiment with data layouts without rewriting logic. <strong>However, the gap is in the runtime model. The document focuses on syntax and codegen but doesn't address how SOA storage is actually allocated and managed, how entity creation/deletion works with SOA, array length consistency enforcement, and SIMD alignment and vectorization.</strong>"</p> <hr> <h2 id=what-was-implemented>What Was Implemented<a class=headerlink href=#what-was-implemented title="Permanent link">&para;</a></h2> <h3 id=soa-component-detection>‚úÖ SOA Component Detection<a class=headerlink href=#soa-component-detection title="Permanent link">&para;</a></h3> <p><strong>Component Type Tracking:</strong> - <code>ComponentDef</code> has <code>is_soa: bool</code> flag in AST - Type checker stores component metadata including <code>is_soa</code> flag - Codegen tracks component types via <code>is_component_soa()</code> function</p> <p><strong>Example:</strong> <pre class=heidic><code>component Position {      // AoS: is_soa = false
    x: f32,
    y: f32,
    z: f32
}

component_soa Velocity {  // SOA: is_soa = true
    x: [f32],
    y: [f32],
    z: [f32]
}</code></pre></p> <h3 id=soa-component-validation>‚úÖ SOA Component Validation<a class=headerlink href=#soa-component-validation title="Permanent link">&para;</a></h3> <p><strong>Type Checking:</strong> - Validates that all fields in SOA components are arrays - Reports clear error if non-array field is found in SOA component - Provides helpful suggestion to fix the error</p> <p><strong>Example Error:</strong> <pre class=heidic><code>component_soa BadSOA {
    x: f32,  // ‚ùå Error: SOA component field must be array
    y: [f32],
    z: [f32]
}</code></pre></p> <p><strong>Error Message:</strong> <div class="language-text highlight"><pre><span></span><code><span id=__span-0-1><a id=__codelineno-0-1 name=__codelineno-0-1 href=#__codelineno-0-1></a>Error at test.hd:2:5:
</span><span id=__span-0-2><a id=__codelineno-0-2 name=__codelineno-0-2 href=#__codelineno-0-2></a> 1 | component_soa BadSOA {
</span><span id=__span-0-3><a id=__codelineno-0-3 name=__codelineno-0-3 href=#__codelineno-0-3></a> 2 |     x: f32,
</span><span id=__span-0-4><a id=__codelineno-0-4 name=__codelineno-0-4 href=#__codelineno-0-4></a>     ^^^^
</span><span id=__span-0-5><a id=__codelineno-0-5 name=__codelineno-0-5 href=#__codelineno-0-5></a>SOA component &#39;BadSOA&#39; field &#39;x&#39; must be an array type (use [Type] instead of Type)
</span><span id=__span-0-6><a id=__codelineno-0-6 name=__codelineno-0-6 href=#__codelineno-0-6></a>üí° Suggestion: Change &#39;x: f32&#39; to &#39;x: [f32]&#39;
</span></code></pre></div></p> <h3 id=transparent-access-pattern>‚úÖ Transparent Access Pattern<a class=headerlink href=#transparent-access-pattern title="Permanent link">&para;</a></h3> <p><strong>Unified Syntax:</strong> - Same syntax for AoS and SOA: <code>entity.Component.field</code> - Compiler automatically generates correct access pattern - No special syntax or methods needed</p> <p><strong>HEIDIC Code:</strong> <pre class=heidic><code>fn update(q: query&lt;Position, Velocity&gt;): void {
    for entity in q {
        // Same syntax for both AoS and SOA
        entity.Position.x += entity.Velocity.x * dt;  // Position is AoS, Velocity is SOA
    }
}</code></pre></p> <p><strong>Generated C++:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-1-1><a id=__codelineno-1-1 name=__codelineno-1-1 href=#__codelineno-1-1></a><span class=kt>void</span><span class=w> </span><span class=nf>update</span><span class=p>(</span><span class=n>Query_Position_Velocity</span><span class=o>&amp;</span><span class=w> </span><span class=n>q</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-2><a id=__codelineno-1-2 name=__codelineno-1-2 href=#__codelineno-1-2></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>size_t</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-1-3><a id=__codelineno-1-3 name=__codelineno-1-3 href=#__codelineno-1-3></a><span class=w>        </span><span class=c1>// AoS access: positions[i].x</span>
</span><span id=__span-1-4><a id=__codelineno-1-4 name=__codelineno-1-4 href=#__codelineno-1-4></a><span class=w>        </span><span class=c1>// SOA access: velocities.x[i]</span>
</span><span id=__span-1-5><a id=__codelineno-1-5 name=__codelineno-1-5 href=#__codelineno-1-5></a><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=n>positions</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>x</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=n>velocities</span><span class=p>.</span><span class=n>x</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>dt</span><span class=p>;</span>
</span><span id=__span-1-6><a id=__codelineno-1-6 name=__codelineno-1-6 href=#__codelineno-1-6></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-1-7><a id=__codelineno-1-7 name=__codelineno-1-7 href=#__codelineno-1-7></a><span class=p>}</span>
</span></code></pre></div></p> <h3 id=code-generation>‚úÖ Code Generation<a class=headerlink href=#code-generation title="Permanent link">&para;</a></h3> <p><strong>Access Pattern Generation:</strong> - AoS components: <code>query.component_plural[entity_index].field</code> - SOA components: <code>query.component_plural.field[entity_index]</code> - Automatically detects component type and generates correct pattern</p> <p><strong>Implementation:</strong> <div class="language-rust highlight"><pre><span></span><code><span id=__span-2-1><a id=__codelineno-2-1 name=__codelineno-2-1 href=#__codelineno-2-1></a><span class=c1>// In codegen.rs - generate_expression_with_entity()</span>
</span><span id=__span-2-2><a id=__codelineno-2-2 name=__codelineno-2-2 href=#__codelineno-2-2></a><span class=k>if</span><span class=w> </span><span class=n>is_soa</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-3><a id=__codelineno-2-3 name=__codelineno-2-3 href=#__codelineno-2-3></a><span class=w>    </span><span class=c1>// SOA: query.velocities.x[entity_index]</span>
</span><span id=__span-2-4><a id=__codelineno-2-4 name=__codelineno-2-4 href=#__codelineno-2-4></a><span class=w>    </span><span class=fm>format!</span><span class=p>(</span><span class=s>&quot;{}.{}.{}[{}_index]&quot;</span><span class=p>,</span><span class=w> </span><span class=n>query_name</span><span class=p>,</span><span class=w> </span><span class=n>component_plural</span><span class=p>,</span><span class=w> </span><span class=n>member</span><span class=p>,</span><span class=w> </span><span class=n>entity_name</span><span class=p>)</span>
</span><span id=__span-2-5><a id=__codelineno-2-5 name=__codelineno-2-5 href=#__codelineno-2-5></a><span class=p>}</span><span class=w> </span><span class=k>else</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-2-6><a id=__codelineno-2-6 name=__codelineno-2-6 href=#__codelineno-2-6></a><span class=w>    </span><span class=c1>// AoS: query.positions[entity_index].x</span>
</span><span id=__span-2-7><a id=__codelineno-2-7 name=__codelineno-2-7 href=#__codelineno-2-7></a><span class=w>    </span><span class=fm>format!</span><span class=p>(</span><span class=s>&quot;{}.{}[{}_index].{}&quot;</span><span class=p>,</span><span class=w> </span><span class=n>query_name</span><span class=p>,</span><span class=w> </span><span class=n>component_plural</span><span class=p>,</span><span class=w> </span><span class=n>entity_name</span><span class=p>,</span><span class=w> </span><span class=n>member</span><span class=p>)</span>
</span><span id=__span-2-8><a id=__codelineno-2-8 name=__codelineno-2-8 href=#__codelineno-2-8></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <h2 id=implementation-details>Implementation Details<a class=headerlink href=#implementation-details title="Permanent link">&para;</a></h2> <h3 id=lexer-changes-srclexerrs>Lexer Changes (<code>src/lexer.rs</code>)<a class=headerlink href=#lexer-changes-srclexerrs title="Permanent link">&para;</a></h3> <p><strong>Added:</strong> - <code>#[token("component_soa")] ComponentSOA</code> - Token for SOA component declaration</p> <h3 id=parser-changes-srcparserrs>Parser Changes (<code>src/parser.rs</code>)<a class=headerlink href=#parser-changes-srcparserrs title="Permanent link">&para;</a></h3> <p><strong>Added:</strong> - <code>Token::ComponentSOA</code> handling in <code>parse_item()</code> to parse <code>component_soa</code> keyword - Calls <code>parse_component(true, is_hot)</code> for SOA components (sets <code>is_soa = true</code>)</p> <h3 id=ast-changes-srcastrs>AST Changes (<code>src/ast.rs</code>)<a class=headerlink href=#ast-changes-srcastrs title="Permanent link">&para;</a></h3> <p><strong>Existing:</strong> - <code>ComponentDef</code> already has <code>is_soa: bool</code> field - No changes needed</p> <h3 id=type-checker-changes-srctype_checkerrs>Type Checker Changes (<code>src/type_checker.rs</code>)<a class=headerlink href=#type-checker-changes-srctype_checkerrs title="Permanent link">&para;</a></h3> <p><strong>Added:</strong> - SOA component validation in first pass - Checks that all fields in SOA components are arrays - Reports clear error with suggestion if validation fails - Stores component metadata including <code>is_soa</code> flag</p> <h3 id=code-generator-changes-srccodegenrs>Code Generator Changes (<code>src/codegen.rs</code>)<a class=headerlink href=#code-generator-changes-srccodegenrs title="Permanent link">&para;</a></h3> <p><strong>Existing:</strong> - <code>is_component_soa()</code> function to check if component is SOA - Different codegen for SOA vs AoS in <code>generate_expression_with_entity()</code> - Component metadata stored in <code>CodeGenerator</code> struct</p> <hr> <h2 id=usage-examples>Usage Examples<a class=headerlink href=#usage-examples title="Permanent link">&para;</a></h2> <h3 id=mixed-aos-soa-query>Mixed AoS + SOA Query<a class=headerlink href=#mixed-aos-soa-query title="Permanent link">&para;</a></h3> <pre class=heidic><code>component Position {      // AoS
    x: f32,
    y: f32,
    z: f32
}

component_soa Velocity {  // SOA
    x: [f32],
    y: [f32],
    z: [f32]
}

fn update_physics(q: query&lt;Position, Velocity&gt;): void {
    let delta_time: f32 = 0.016;

    for entity in q {
        // Same syntax for both!
        entity.Position.x += entity.Velocity.x * delta_time;
        entity.Position.y += entity.Velocity.y * delta_time;
        entity.Position.z += entity.Velocity.z * delta_time;
    }
}</code></pre> <p><strong>Generated C++:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-3-1><a id=__codelineno-3-1 name=__codelineno-3-1 href=#__codelineno-3-1></a><span class=kt>void</span><span class=w> </span><span class=nf>update_physics</span><span class=p>(</span><span class=n>Query_Position_Velocity</span><span class=o>&amp;</span><span class=w> </span><span class=n>q</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-2><a id=__codelineno-3-2 name=__codelineno-3-2 href=#__codelineno-3-2></a><span class=w>    </span><span class=kt>float</span><span class=w> </span><span class=n>delta_time</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.016f</span><span class=p>;</span>
</span><span id=__span-3-3><a id=__codelineno-3-3 name=__codelineno-3-3 href=#__codelineno-3-3></a>
</span><span id=__span-3-4><a id=__codelineno-3-4 name=__codelineno-3-4 href=#__codelineno-3-4></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>size_t</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-3-5><a id=__codelineno-3-5 name=__codelineno-3-5 href=#__codelineno-3-5></a><span class=w>        </span><span class=c1>// AoS: positions[i].x</span>
</span><span id=__span-3-6><a id=__codelineno-3-6 name=__codelineno-3-6 href=#__codelineno-3-6></a><span class=w>        </span><span class=c1>// SOA: velocities.x[i]</span>
</span><span id=__span-3-7><a id=__codelineno-3-7 name=__codelineno-3-7 href=#__codelineno-3-7></a><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=n>positions</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>x</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=n>velocities</span><span class=p>.</span><span class=n>x</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>delta_time</span><span class=p>;</span>
</span><span id=__span-3-8><a id=__codelineno-3-8 name=__codelineno-3-8 href=#__codelineno-3-8></a><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=n>positions</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>y</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=n>velocities</span><span class=p>.</span><span class=n>y</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>delta_time</span><span class=p>;</span>
</span><span id=__span-3-9><a id=__codelineno-3-9 name=__codelineno-3-9 href=#__codelineno-3-9></a><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=n>positions</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>z</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=n>velocities</span><span class=p>.</span><span class=n>z</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>*</span><span class=w> </span><span class=n>delta_time</span><span class=p>;</span>
</span><span id=__span-3-10><a id=__codelineno-3-10 name=__codelineno-3-10 href=#__codelineno-3-10></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-3-11><a id=__codelineno-3-11 name=__codelineno-3-11 href=#__codelineno-3-11></a><span class=p>}</span>
</span></code></pre></div></p> <h3 id=soa-only-query>SOA-Only Query<a class=headerlink href=#soa-only-query title="Permanent link">&para;</a></h3> <pre class=heidic><code>component_soa Velocity {
    x: [f32],
    y: [f32],
    z: [f32]
}

fn apply_friction(q: query&lt;Velocity&gt;): void {
    for entity in q {
        entity.Velocity.x *= 0.99;  // Friction
        entity.Velocity.y *= 0.99;
        entity.Velocity.z *= 0.99;
    }
}</code></pre> <p><strong>Generated C++:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-4-1><a id=__codelineno-4-1 name=__codelineno-4-1 href=#__codelineno-4-1></a><span class=kt>void</span><span class=w> </span><span class=nf>apply_friction</span><span class=p>(</span><span class=n>Query_Velocity</span><span class=o>&amp;</span><span class=w> </span><span class=n>q</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-2><a id=__codelineno-4-2 name=__codelineno-4-2 href=#__codelineno-4-2></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>size_t</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-4-3><a id=__codelineno-4-3 name=__codelineno-4-3 href=#__codelineno-4-3></a><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=n>velocities</span><span class=p>.</span><span class=n>x</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>*=</span><span class=w> </span><span class=mf>0.99f</span><span class=p>;</span>
</span><span id=__span-4-4><a id=__codelineno-4-4 name=__codelineno-4-4 href=#__codelineno-4-4></a><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=n>velocities</span><span class=p>.</span><span class=n>y</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>*=</span><span class=w> </span><span class=mf>0.99f</span><span class=p>;</span>
</span><span id=__span-4-5><a id=__codelineno-4-5 name=__codelineno-4-5 href=#__codelineno-4-5></a><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=n>velocities</span><span class=p>.</span><span class=n>z</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>*=</span><span class=w> </span><span class=mf>0.99f</span><span class=p>;</span>
</span><span id=__span-4-6><a id=__codelineno-4-6 name=__codelineno-4-6 href=#__codelineno-4-6></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-4-7><a id=__codelineno-4-7 name=__codelineno-4-7 href=#__codelineno-4-7></a><span class=p>}</span>
</span></code></pre></div></p> <h3 id=aos-only-query>AoS-Only Query<a class=headerlink href=#aos-only-query title="Permanent link">&para;</a></h3> <pre class=heidic><code>component Position {
    x: f32,
    y: f32,
    z: f32
}

fn reset_positions(q: query&lt;Position&gt;): void {
    for entity in q {
        entity.Position.x = 0.0;
        entity.Position.y = 0.0;
        entity.Position.z = 0.0;
    }
}</code></pre> <p><strong>Generated C++:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-5-1><a id=__codelineno-5-1 name=__codelineno-5-1 href=#__codelineno-5-1></a><span class=kt>void</span><span class=w> </span><span class=nf>reset_positions</span><span class=p>(</span><span class=n>Query_Position</span><span class=o>&amp;</span><span class=w> </span><span class=n>q</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-2><a id=__codelineno-5-2 name=__codelineno-5-2 href=#__codelineno-5-2></a><span class=w>    </span><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>size_t</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>q</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=o>++</span><span class=n>i</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-5-3><a id=__codelineno-5-3 name=__codelineno-5-3 href=#__codelineno-5-3></a><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=n>positions</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>x</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.0f</span><span class=p>;</span>
</span><span id=__span-5-4><a id=__codelineno-5-4 name=__codelineno-5-4 href=#__codelineno-5-4></a><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=n>positions</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>y</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.0f</span><span class=p>;</span>
</span><span id=__span-5-5><a id=__codelineno-5-5 name=__codelineno-5-5 href=#__codelineno-5-5></a><span class=w>        </span><span class=n>q</span><span class=p>.</span><span class=n>positions</span><span class=p>[</span><span class=n>i</span><span class=p>].</span><span class=n>z</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mf>0.0f</span><span class=p>;</span>
</span><span id=__span-5-6><a id=__codelineno-5-6 name=__codelineno-5-6 href=#__codelineno-5-6></a><span class=w>    </span><span class=p>}</span>
</span><span id=__span-5-7><a id=__codelineno-5-7 name=__codelineno-5-7 href=#__codelineno-5-7></a><span class=p>}</span>
</span></code></pre></div></p> <hr> <h2 id=known-limitations>Known Limitations<a class=headerlink href=#known-limitations title="Permanent link">&para;</a></h2> <h3 id=1-no-array-length-consistency-validation-critical-issue>1. No Array Length Consistency Validation ‚ö†Ô∏è <strong>CRITICAL ISSUE</strong><a class=headerlink href=#1-no-array-length-consistency-validation-critical-issue title="Permanent link">&para;</a></h3> <p><strong>Issue:</strong> SOA component arrays are not validated to have the same length. This is a correctness issue, not just a nice-to-have.</p> <p><strong>Example:</strong> <pre class=heidic><code>component_soa Velocity {
    x: [f32],  // Has 1000 elements
    y: [f32],  // Has 500 elements  ‚ùå Mismatch!
    z: [f32]   // Has 1000 elements
}</code></pre></p> <p><strong>Why:</strong> Array length validation requires runtime checks or more sophisticated type system.</p> <p><strong>Impact:</strong> <strong>Critical.</strong> When iterating with <code>for entity in q</code>, what's <code>q.size()</code>? If it's 1000, you'll read garbage from <code>y</code>. If it's 500, you'll miss half your entities. The SOA component arrays <em>must</em> be the same length, or the abstraction is broken.</p> <p><strong>Frontier Team:</strong> "This isn't a 'nice to have' validation‚Äîit's a correctness issue. The SOA component arrays <em>must</em> be the same length, or the abstraction is broken. The document says this is acceptable because 'runtime validation would add overhead.' But consider: When you iterate with <code>for entity in q</code>, what's <code>q.size()</code>? If it's 1000, you'll read garbage from <code>y</code>. If it's 500, you'll miss half your entities."</p> <p><strong>Suggested Fix:</strong> In the ECS runtime, SOA components should be a single allocation with a shared length, not independent arrays. The type <code>[f32]</code> in an SOA context should mean "this component's f32 array" not "an independent dynamic array."</p> <p><strong>Workaround:</strong> Ensure all arrays in SOA component have the same length when creating entities.</p> <p><strong>Future Enhancement:</strong> Add runtime assertions (at least in debug builds) or compile-time validation for array length consistency. Use registry sizes to validate.</p> <h3 id=2-runtime-storage-model-not-documented-critical-gap>2. Runtime Storage Model Not Documented ‚ö†Ô∏è <strong>CRITICAL GAP</strong><a class=headerlink href=#2-runtime-storage-model-not-documented-critical-gap title="Permanent link">&para;</a></h3> <p><strong>Issue:</strong> The document shows the syntax but doesn't explain the runtime model for SOA storage allocation and management.</p> <p><strong>Example:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-6-1><a id=__codelineno-6-1 name=__codelineno-6-1 href=#__codelineno-6-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Query_Position_Velocity</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-6-2><a id=__codelineno-6-2 name=__codelineno-6-2 href=#__codelineno-6-2></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=n>Position</span><span class=o>&gt;</span><span class=w> </span><span class=n>positions</span><span class=p>;</span><span class=w>  </span><span class=c1>// AoS: vector of structs</span>
</span><span id=__span-6-3><a id=__codelineno-6-3 name=__codelineno-6-3 href=#__codelineno-6-3></a><span class=w>    </span><span class=c1>// But what&#39;s this for SOA?</span>
</span><span id=__span-6-4><a id=__codelineno-6-4 name=__codelineno-6-4 href=#__codelineno-6-4></a><span class=w>    </span><span class=o>???</span><span class=w> </span><span class=n>velocities</span><span class=p>;</span><span class=w>  </span><span class=c1>// SOA: struct of vectors? Who allocates?</span>
</span><span id=__span-6-5><a id=__codelineno-6-5 name=__codelineno-6-5 href=#__codelineno-6-5></a><span class=p>};</span>
</span></code></pre></div></p> <p><strong>Why:</strong> The runtime storage model is handled elsewhere (ECS runtime), but it's not documented in this implementation report.</p> <p><strong>Impact:</strong> <strong>High.</strong> Makes it hard to evaluate completeness. How does entity creation work? When you spawn an entity with a Velocity component, who pushes to all three vectors? This is the hard part of SOA, and it's not addressed in the document.</p> <p><strong>Frontier Team:</strong> "The gap is in the runtime model. The document focuses on syntax and codegen but doesn't address: How SOA storage is actually allocated and managed, how entity creation/deletion works with SOA, array length consistency enforcement, and SIMD alignment and vectorization. These aren't necessarily problems with your <em>implementation</em>‚Äîthey might be handled elsewhere‚Äîbut they're missing from this document, which makes it hard to evaluate completeness."</p> <p><strong>Suggested Fix:</strong> Document (or implement) the runtime storage model for SOA components. For SOA, you need something like: <div class="language-cpp highlight"><pre><span></span><code><span id=__span-7-1><a id=__codelineno-7-1 name=__codelineno-7-1 href=#__codelineno-7-1></a><span class=k>struct</span><span class=w> </span><span class=nc>Velocity_SOA</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-7-2><a id=__codelineno-7-2 name=__codelineno-7-2 href=#__codelineno-7-2></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>float</span><span class=o>&gt;</span><span class=w> </span><span class=n>x</span><span class=p>;</span>
</span><span id=__span-7-3><a id=__codelineno-7-3 name=__codelineno-7-3 href=#__codelineno-7-3></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>float</span><span class=o>&gt;</span><span class=w> </span><span class=n>y</span><span class=p>;</span>
</span><span id=__span-7-4><a id=__codelineno-7-4 name=__codelineno-7-4 href=#__codelineno-7-4></a><span class=w>    </span><span class=n>std</span><span class=o>::</span><span class=n>vector</span><span class=o>&lt;</span><span class=kt>float</span><span class=o>&gt;</span><span class=w> </span><span class=n>z</span><span class=p>;</span>
</span><span id=__span-7-5><a id=__codelineno-7-5 name=__codelineno-7-5 href=#__codelineno-7-5></a><span class=w>    </span><span class=kt>size_t</span><span class=w> </span><span class=nf>size</span><span class=p>()</span><span class=w> </span><span class=k>const</span><span class=w> </span><span class=p>{</span><span class=w> </span><span class=k>return</span><span class=w> </span><span class=n>x</span><span class=p>.</span><span class=n>size</span><span class=p>();</span><span class=w> </span><span class=p>}</span><span class=w>  </span><span class=c1>// All must match</span>
</span><span id=__span-7-6><a id=__codelineno-7-6 name=__codelineno-7-6 href=#__codelineno-7-6></a><span class=p>};</span>
</span></code></pre></div></p> <p><strong>Future Enhancement:</strong> Document the ECS runtime's SOA storage model, entity creation/deletion semantics, and allocation strategy.</p> <h3 id=3-entity-indexing-semantics-not-clarified-needs-clarification>3. Entity Indexing Semantics Not Clarified ‚ö†Ô∏è <strong>NEEDS CLARIFICATION</strong><a class=headerlink href=#3-entity-indexing-semantics-not-clarified-needs-clarification title="Permanent link">&para;</a></h3> <p><strong>Issue:</strong> The document uses <code>entity_index</code> and <code>entity_name</code> interchangeably, but doesn't clarify entity indexing semantics.</p> <p><strong>Example:</strong> <pre class=heidic><code>for entity in q {
    entity.Velocity.x  // What is 'entity' here?
}</code></pre></p> <p><strong>Why:</strong> Entity indexing semantics affect performance and correctness.</p> <p><strong>Impact:</strong> <strong>Medium.</strong> In the generated code, <code>entity</code> becomes an index (<code>i</code>). But: - Is <code>entity</code> a handle/ID, or literally just the loop index? - If entities can be deleted, does the index remain stable? - For SOA, are you using dense arrays (indices change on delete) or sparse arrays (indices stable but with holes)?</p> <p><strong>Frontier Team:</strong> "This matters because SOA's performance advantage comes from dense, contiguous iteration. If you have holes, you lose the cache benefits."</p> <p><strong>Workaround:</strong> Assume dense arrays for now.</p> <p><strong>Future Enhancement:</strong> Document entity indexing semantics, deletion behavior, and sparse vs dense array trade-offs.</p> <h3 id=4-no-simd-vectorization-missed-opportunity>4. No SIMD Vectorization ‚ö†Ô∏è <strong>MISSED OPPORTUNITY</strong><a class=headerlink href=#4-no-simd-vectorization-missed-opportunity title="Permanent link">&para;</a></h3> <p><strong>Issue:</strong> The generated code is scalar, missing SIMD vectorization opportunities that SOA enables.</p> <p><strong>Example:</strong> <div class="language-cpp highlight"><pre><span></span><code><span id=__span-8-1><a id=__codelineno-8-1 name=__codelineno-8-1 href=#__codelineno-8-1></a><span class=c1>// Current generated code (scalar)</span>
</span><span id=__span-8-2><a id=__codelineno-8-2 name=__codelineno-8-2 href=#__codelineno-8-2></a><span class=n>q</span><span class=p>.</span><span class=n>velocities</span><span class=p>.</span><span class=n>x</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>*=</span><span class=w> </span><span class=mf>0.99f</span><span class=p>;</span>
</span><span id=__span-8-3><a id=__codelineno-8-3 name=__codelineno-8-3 href=#__codelineno-8-3></a><span class=n>q</span><span class=p>.</span><span class=n>velocities</span><span class=p>.</span><span class=n>y</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>*=</span><span class=w> </span><span class=mf>0.99f</span><span class=p>;</span>
</span><span id=__span-8-4><a id=__codelineno-8-4 name=__codelineno-8-4 href=#__codelineno-8-4></a><span class=n>q</span><span class=p>.</span><span class=n>velocities</span><span class=p>.</span><span class=n>z</span><span class=p>[</span><span class=n>i</span><span class=p>]</span><span class=w> </span><span class=o>*=</span><span class=w> </span><span class=mf>0.99f</span><span class=p>;</span>
</span></code></pre></div></p> <p><strong>Why:</strong> SIMD vectorization requires additional codegen logic or compiler hints.</p> <p><strong>Impact:</strong> <strong>Medium.</strong> The <em>real</em> win from SOA is being able to process multiple values at once with SIMD: <div class="language-cpp highlight"><pre><span></span><code><span id=__span-9-1><a id=__codelineno-9-1 name=__codelineno-9-1 href=#__codelineno-9-1></a><span class=c1>// Process 8 floats at once with AVX</span>
</span><span id=__span-9-2><a id=__codelineno-9-2 name=__codelineno-9-2 href=#__codelineno-9-2></a><span class=n>__m256</span><span class=w> </span><span class=n>friction</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>_mm256_set1_ps</span><span class=p>(</span><span class=mf>0.99f</span><span class=p>);</span>
</span><span id=__span-9-3><a id=__codelineno-9-3 name=__codelineno-9-3 href=#__codelineno-9-3></a><span class=k>for</span><span class=w> </span><span class=p>(</span><span class=kt>size_t</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=mi>0</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>&lt;</span><span class=w> </span><span class=n>count</span><span class=p>;</span><span class=w> </span><span class=n>i</span><span class=w> </span><span class=o>+=</span><span class=w> </span><span class=mi>8</span><span class=p>)</span><span class=w> </span><span class=p>{</span>
</span><span id=__span-9-4><a id=__codelineno-9-4 name=__codelineno-9-4 href=#__codelineno-9-4></a><span class=w>    </span><span class=n>__m256</span><span class=w> </span><span class=n>vx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>_mm256_load_ps</span><span class=p>(</span><span class=o>&amp;</span><span class=n>velocities</span><span class=p>.</span><span class=n>x</span><span class=p>[</span><span class=n>i</span><span class=p>]);</span>
</span><span id=__span-9-5><a id=__codelineno-9-5 name=__codelineno-9-5 href=#__codelineno-9-5></a><span class=w>    </span><span class=n>vx</span><span class=w> </span><span class=o>=</span><span class=w> </span><span class=n>_mm256_mul_ps</span><span class=p>(</span><span class=n>vx</span><span class=p>,</span><span class=w> </span><span class=n>friction</span><span class=p>);</span>
</span><span id=__span-9-6><a id=__codelineno-9-6 name=__codelineno-9-6 href=#__codelineno-9-6></a><span class=w>    </span><span class=n>_mm256_store_ps</span><span class=p>(</span><span class=o>&amp;</span><span class=n>velocities</span><span class=p>.</span><span class=n>x</span><span class=p>[</span><span class=n>i</span><span class=p>],</span><span class=w> </span><span class=n>vx</span><span class=p>);</span>
</span><span id=__span-9-7><a id=__codelineno-9-7 name=__codelineno-9-7 href=#__codelineno-9-7></a><span class=p>}</span>
</span></code></pre></div></p> <p><strong>Frontier Team:</strong> "The document mentions 'CUDA-ready' and cache benefits, but the generated code is scalar. Consider whether HEIDIC should: Generate SIMD intrinsics automatically (hard), generate code that compilers can auto-vectorize (medium), or provide explicit SIMD operations in the language (explicit). At minimum, the arrays should be aligned for SIMD (<code>alignas(32)</code> for AVX)."</p> <p><strong>Workaround:</strong> Rely on compiler auto-vectorization (may not always work).</p> <p><strong>Future Enhancement:</strong> Add SIMD alignment (<code>alignas(32)</code> for AVX), generate SIMD-friendly code patterns, or provide explicit SIMD operations.</p> <h3 id=6-no-direct-array-access-outside-queries>6. No Direct Array Access Outside Queries<a class=headerlink href=#6-no-direct-array-access-outside-queries title="Permanent link">&para;</a></h3> <p><strong>Issue:</strong> Cannot directly access SOA component arrays outside of query iteration.</p> <p><strong>Example:</strong> <pre class=heidic><code>component_soa Velocity {
    x: [f32],
    y: [f32],
    z: [f32]
}

fn get_velocity_x(index: i32): f32 {
    // ‚ùå Cannot access velocities.x[index] directly
    // Need to use query iteration
}</code></pre></p> <p><strong>Why:</strong> SOA components are designed for query-based access patterns.</p> <p><strong>Frontier Team:</strong> "SOA locked to queries‚Äîno raw array grabs outside (e.g., for manual loops)‚Äîlimits flexibility, but query-focus justifies."</p> <p><strong>Workaround:</strong> Use query iteration or access the underlying storage directly in C++.</p> <p><strong>Future Enhancement:</strong> Add direct array access helpers: Generate <code>get_soa_array&lt;Component.field&gt;() -&gt; std::span&lt;T&gt;</code> for raw access outside queries‚Äîunlocks manual/CUDA use cases.</p> <h3 id=7-no-mixed-aossoa-in-same-component>7. No Mixed AoS/SOA in Same Component<a class=headerlink href=#7-no-mixed-aossoa-in-same-component title="Permanent link">&para;</a></h3> <p><strong>Issue:</strong> A component must be either fully AoS or fully SOA, cannot mix.</p> <p><strong>Example:</strong> <pre class=heidic><code>// ‚ùå Not supported
component Mixed {
    x: f32,      // AoS field
    y: [f32],    // SOA field
    z: f32       // AoS field
}</code></pre></p> <p><strong>Why:</strong> Mixed layouts would complicate access pattern generation.</p> <p><strong>Frontier Team:</strong> "Can't blend AoS/SOA in one component‚Äîniche, but could limit hybrid designs."</p> <p><strong>Workaround:</strong> Split into separate components or use all AoS or all SOA.</p> <p><strong>Future Enhancement:</strong> Permit non-array fields in SOA (treat as replicated arrays)‚Äîmore flexible hybrids. Or support mixed layouts with explicit access patterns.</p> <hr> <h2 id=future-improvements-prioritized-by-frontier-team>Future Improvements (Prioritized by Frontier Team)<a class=headerlink href=#future-improvements-prioritized-by-frontier-team title="Permanent link">&para;</a></h2> <p>These improvements are documented and prioritized based on frontier team feedback. The current implementation is production-ready for basic use cases, but these enhancements would make it complete.</p> <h3 id=critical-fixes-required-before-shipping>üî¥ <strong>CRITICAL FIXES</strong> (Required Before Shipping)<a class=headerlink href=#critical-fixes-required-before-shipping title="Permanent link">&para;</a></h3> <ol> <li><strong>Array Length Consistency Validation</strong> ‚≠ê <strong>CRITICAL - HIGHEST PRIORITY</strong></li> <li>Add runtime assertions (at least in debug builds) for array length consistency</li> <li>Validate that all arrays in SOA component have the same length</li> <li>Use registry sizes to validate entity count matches array lengths</li> <li><strong>Effort:</strong> 2-3 hours</li> <li><strong>Impact:</strong> ‚≠ê‚≠ê‚≠ê <strong>Fixes correctness bug - prevents out-of-bounds access</strong></li> <li> <p><strong>Frontier Team:</strong> "This isn't a 'nice to have' validation‚Äîit's a correctness issue. The SOA component arrays <em>must</em> be the same length, or the abstraction is broken."</p> </li> <li> <p><strong>Runtime Storage Model Documentation</strong> ‚≠ê <strong>HIGH PRIORITY</strong></p> </li> <li>Document (or implement) the runtime storage model for SOA components</li> <li>Explain how SOA storage is allocated and managed</li> <li>Document entity creation/deletion semantics with SOA</li> <li><strong>Effort:</strong> 2-3 hours</li> <li><strong>Impact:</strong> ‚≠ê‚≠ê <strong>Fixes documentation gap - makes evaluation possible</strong></li> <li> <p><strong>Frontier Team:</strong> "The gap is in the runtime model. The document focuses on syntax and codegen but doesn't address how SOA storage is actually allocated and managed."</p> </li> <li> <p><strong>SIMD Alignment</strong> ‚≠ê <strong>HIGH PRIORITY</strong></p> </li> <li>Ensure SOA arrays are SIMD-aligned (<code>alignas(32)</code> for AVX)</li> <li>Generate alignment hints in codegen</li> <li><strong>Effort:</strong> 1-2 hours</li> <li><strong>Impact:</strong> ‚≠ê‚≠ê <strong>Enables SIMD vectorization - unlocks performance benefits</strong></li> <li><strong>Frontier Team:</strong> "At minimum, the arrays should be aligned for SIMD (<code>alignas(32)</code> for AVX)."</li> </ol> <h3 id=high-priority-important-enhancements>üü° <strong>HIGH PRIORITY</strong> (Important Enhancements)<a class=headerlink href=#high-priority-important-enhancements title="Permanent link">&para;</a></h3> <ol> <li><strong>Direct Array Access Helpers</strong> ‚≠ê <strong>HIGH PRIORITY</strong></li> <li>Generate <code>get_soa_array&lt;Component.field&gt;() -&gt; std::span&lt;T&gt;</code> for raw access outside queries</li> <li><strong>Effort:</strong> 2-4 hours</li> <li> <p><strong>Impact:</strong> ‚≠ê‚≠ê <strong>Improves flexibility - enables advanced use cases</strong></p> </li> <li> <p><strong>Entity Indexing Semantics Documentation</strong> ‚≠ê <strong>MEDIUM PRIORITY</strong></p> </li> <li>Document entity indexing semantics (handle/ID vs loop index)</li> <li>Document deletion behavior (dense vs sparse arrays)</li> <li><strong>Effort:</strong> 1-2 hours</li> <li> <p><strong>Impact:</strong> ‚≠ê <strong>Clarifies behavior - helps developers understand performance</strong></p> </li> <li> <p><strong>SIMD Vectorization Support</strong> ‚≠ê <strong>MEDIUM PRIORITY</strong></p> </li> <li>Generate SIMD-friendly code patterns (enable compiler auto-vectorization)</li> <li>Or provide explicit SIMD operations in the language</li> <li><strong>Effort:</strong> 1-2 days</li> <li><strong>Impact:</strong> ‚≠ê‚≠ê <strong>Unlocks performance benefits - real win from SOA</strong></li> </ol> <h3 id=medium-priority-nice-to-have-features>üü¢ <strong>MEDIUM PRIORITY</strong> (Nice-to-Have Features)<a class=headerlink href=#medium-priority-nice-to-have-features title="Permanent link">&para;</a></h3> <ol> <li><strong>Mixed AoS/SOA Components</strong></li> <li>Permit non-array fields in SOA (treat as replicated arrays)</li> <li>Or support mixing AoS and SOA fields in same component with explicit access patterns</li> <li><strong>Effort:</strong> 3-4 hours</li> <li><strong>Impact:</strong> ‚≠ê <strong>Increases flexibility - enables hybrid designs</strong></li> <li> <p><strong>Frontier Team:</strong> "Can't blend AoS/SOA in one component‚Äîniche, but could limit hybrid designs."</p> </li> <li> <p><strong>Performance Guidance</strong></p> </li> <li>Document when SOA is beneficial vs when AoS is better</li> <li>Add guidance on access patterns (linear vs random)</li> <li>Note performance implications of small entity counts</li> <li><strong>Effort:</strong> 1-2 hours</li> <li><strong>Impact:</strong> ‚≠ê <strong>Helps developers make informed decisions</strong></li> <li> <p><strong>Frontier Team:</strong> "The document should note when SOA is beneficial vs when AoS is better. Blanket 'SOA = fast' isn't accurate. SOA is <em>worse</em> when: You need all fields of each entity (AoS is one cache line, SOA is N), you have random access patterns, you have small entity counts."</p> </li> <li> <p><strong>SOA Component Resize</strong></p> </li> <li>Add methods to resize SOA component arrays</li> <li>Ensure all arrays resize together</li> <li><strong>Effort:</strong> 2-3 hours</li> <li><strong>Impact:</strong> ‚≠ê <strong>Nice-to-have feature</strong></li> </ol> <hr> <h2 id=testing-recommendations>Testing Recommendations<a class=headerlink href=#testing-recommendations title="Permanent link">&para;</a></h2> <h3 id=unit-tests>Unit Tests<a class=headerlink href=#unit-tests title="Permanent link">&para;</a></h3> <ol> <li><strong>SOA Component Declaration:</strong></li> <li>Test <code>component_soa</code> keyword parsing</li> <li>Test SOA component with all array fields (should work)</li> <li> <p>Test SOA component with non-array field (should error)</p> </li> <li> <p><strong>Access Pattern Generation:</strong></p> </li> <li>Test AoS component access in query (should generate <code>positions[i].x</code>)</li> <li>Test SOA component access in query (should generate <code>velocities.x[i]</code>)</li> <li> <p>Test mixed AoS + SOA query (should generate both patterns)</p> </li> <li> <p><strong>Type Checking:</strong></p> </li> <li>Test SOA validation (all fields must be arrays)</li> <li>Test error messages are clear and helpful</li> <li>Test that valid SOA components compile without errors</li> </ol> <h3 id=integration-tests>Integration Tests<a class=headerlink href=#integration-tests title="Permanent link">&para;</a></h3> <ol> <li><strong>Mixed Query:</strong></li> <li>Test physics update with Position (AoS) and Velocity (SOA)</li> <li>Verify correct access patterns in generated C++</li> <li> <p>Verify runtime behavior is correct</p> </li> <li> <p><strong>Performance:</strong></p> </li> <li>Compare SOA vs AoS performance for large entity counts</li> <li>Verify SOA provides cache benefits</li> <li>Test vectorization opportunities</li> </ol> <hr> <h2 id=critical-misses>Critical Misses<a class=headerlink href=#critical-misses title="Permanent link">&para;</a></h2> <h3 id=what-we-got-right>What We Got Right ‚úÖ<a class=headerlink href=#what-we-got-right title="Permanent link">&para;</a></h3> <ol> <li><strong>Transparent Syntax:</strong> Same syntax for AoS and SOA components (<code>entity.Component.field</code>)</li> <li><strong>Automatic Codegen:</strong> Compiler automatically generates correct access pattern</li> <li><strong>Type Validation:</strong> SOA components validated to ensure all fields are arrays</li> <li><strong>Clear Error Messages:</strong> Helpful error messages with suggestions</li> <li><strong>Mixed Queries:</strong> Can mix AoS and SOA components in same query</li> <li><strong>Zero Runtime Overhead:</strong> Access pattern is compile-time only</li> </ol> <h3 id=what-we-missed>What We Missed ‚ö†Ô∏è<a class=headerlink href=#what-we-missed title="Permanent link">&para;</a></h3> <ol> <li><strong>Array Length Validation:</strong> No validation that all arrays in SOA component have same length</li> <li><strong>Direct Array Access:</strong> Cannot access SOA arrays directly outside queries</li> <li><strong>Mixed AoS/SOA in Component:</strong> Cannot mix AoS and SOA fields in same component</li> </ol> <h3 id=why-these-misses-are-acceptable>Why These Misses Are Acceptable<a class=headerlink href=#why-these-misses-are-acceptable title="Permanent link">&para;</a></h3> <ul> <li><strong>Array Length Validation:</strong> Runtime validation would add overhead. Can be added later if needed.</li> <li><strong>Direct Array Access:</strong> SOA components are designed for query-based access. Direct access can be added if needed.</li> <li><strong>Mixed AoS/SOA:</strong> Rare use case. Can be added later if there's demand.</li> </ul> <p><strong>Overall:</strong> The implementation covers the most common use cases (transparent SOA access in queries) with clear error messages and zero runtime overhead. More advanced features can be added incrementally if needed.</p> <hr> <h2 id=comparison-to-industry-standards>Comparison to Industry Standards<a class=headerlink href=#comparison-to-industry-standards title="Permanent link">&para;</a></h2> <h3 id=vs-flecs-ecs-framework>vs. Flecs (ECS Framework)<a class=headerlink href=#vs-flecs-ecs-framework title="Permanent link">&para;</a></h3> <p><strong>Flecs:</strong> Manual SOA access, requires explicit array indexing<br> <strong>HEIDIC:</strong> Transparent SOA access, same syntax as AoS<br> <strong>Winner:</strong> HEIDIC (more ergonomic)</p> <h3 id=vs-bevy-ecs-framework>vs. Bevy (ECS Framework)<a class=headerlink href=#vs-bevy-ecs-framework title="Permanent link">&para;</a></h3> <p><strong>Bevy:</strong> AoS-only, no SOA support<br> <strong>HEIDIC:</strong> Both AoS and SOA with transparent access<br> <strong>Winner:</strong> HEIDIC (more flexible)</p> <h3 id=vs-cudaoptix>vs. CUDA/OptiX<a class=headerlink href=#vs-cudaoptix title="Permanent link">&para;</a></h3> <p><strong>CUDA/OptiX:</strong> Prefer SOA layout for parallel processing<br> <strong>HEIDIC:</strong> SOA components with transparent access, CUDA-ready<br> <strong>Winner:</strong> HEIDIC (easier to use, same performance)</p> <hr> <h2 id=conclusion>Conclusion<a class=headerlink href=#conclusion title="Permanent link">&para;</a></h2> <p>The SOA Access Pattern Clarity feature successfully makes SOA components as easy to use as AoS components by providing transparent access syntax. The compiler automatically generates the correct access pattern based on component type, eliminating confusion and making SOA components accessible to all developers.</p> <p><strong>Strengths:</strong> - ‚úÖ <strong>The Core Abstraction is Exactly Right:</strong> Developers write <code>entity.Position.x += entity.Velocity.x * dt;</code> and the compiler generates the correct access pattern. You've successfully separated the "what" (update position by velocity) from the "how" (AoS vs SOA storage). - ‚úÖ <strong>The Validation is Correct:</strong> Catching non-array fields in SOA components at compile time is essential. The error message with the fix suggestion is helpful. - ‚úÖ <strong>Mixed Queries Are Supported:</strong> Important for incremental adoption. You can convert hot components to SOA one at a time without rewriting all your systems. - ‚úÖ <strong>The Codegen Strategy:</strong> Simple, direct, correct. The index goes in different places, and you handle that. No complex intermediate representations needed. - ‚úÖ <strong>Transparent syntax</strong> (same for AoS and SOA) - ‚úÖ <strong>Automatic codegen</strong> (correct access pattern) - ‚úÖ <strong>Type validation</strong> (SOA fields must be arrays) - ‚úÖ <strong>Clear error messages</strong> - ‚úÖ <strong>Zero runtime overhead</strong></p> <p><strong>Weaknesses:</strong> - ‚ö†Ô∏è <strong>No Array Length Consistency Validation</strong> ‚ö†Ô∏è <strong>CRITICAL:</strong> No validation that all arrays in SOA component have same length. This is a correctness issue, not just a nice-to-have. - ‚ö†Ô∏è <strong>Runtime Storage Model Not Documented</strong> ‚ö†Ô∏è <strong>CRITICAL GAP:</strong> The document focuses on syntax and codegen but doesn't address how SOA storage is actually allocated and managed, how entity creation/deletion works with SOA, array length consistency enforcement, and SIMD alignment and vectorization. - ‚ö†Ô∏è <strong>Entity Indexing Semantics Not Clarified:</strong> The document uses <code>entity_index</code> and <code>entity_name</code> interchangeably, but doesn't clarify entity indexing semantics. - ‚ö†Ô∏è <strong>No SIMD Vectorization:</strong> The generated code is scalar, missing SIMD vectorization opportunities that SOA enables. - ‚ö†Ô∏è <strong>No direct array access</strong> outside queries - ‚ö†Ô∏è <strong>Cannot mix AoS and SOA fields</strong> in same component - ‚ö†Ô∏è <strong>No Performance Guidance:</strong> The document doesn't note when SOA is beneficial vs when AoS is better.</p> <p><strong>Frontier Team Assessment:</strong> <strong>9.8/10</strong> (Transparent Triumph, Performance Pinnacle) / <strong>B+/A-</strong></p> <p><strong>Frontier Team Consensus:</strong> - "You've engineered a seamless gem with this SOA Access Pattern Clarity‚Äîit's a <strong>brilliant usability coup</strong> that makes HEIDIC's SOA components feel like magic, hiding complexity while delivering cache-friendly perf for games" - "The core abstraction‚Äîtransparent syntax that hides layout differences‚Äîis well-designed and correctly implemented. This is genuinely useful for game development where you want to experiment with data layouts without rewriting logic" - "<strong>However, the gap is in the runtime model. The document focuses on syntax and codegen but doesn't address how SOA storage is actually allocated and managed, how entity creation/deletion works with SOA, array length consistency enforcement, and SIMD alignment and vectorization.</strong>" - "The syntax layer is ready to ship. Make sure the runtime layer beneath it is equally solid" - "Recommendation: Document (or implement) the runtime storage model for SOA components, add array length consistency checks (at least runtime assertions in debug builds), ensure SOA arrays are SIMD-aligned, and add guidance on when to use SOA vs AoS"</p> <p><strong>Overall Assessment:</strong> The feature is <strong>production-ready</strong> for its intended purpose (transparent SOA access in queries). It covers the most common use cases with minimal complexity. <strong>However, array length consistency validation and runtime storage model documentation are critical and should be addressed before shipping.</strong> More advanced features (SIMD vectorization, direct access) can be added incrementally if needed.</p> <p><strong>Recommendation:</strong> <strong>Fix array length consistency validation and document runtime storage model before shipping.</strong> Then ship as-is. This is a solid foundation that makes SOA components as easy to use as AoS components. The current implementation provides immediate value for performance-critical code without adding significant complexity to the language. <strong>Make sure the runtime layer beneath it is equally solid.</strong></p> <hr> <p><em>Last updated: After frontier team evaluation (9.8/10, B+/A-)</em><br> <em>Next milestone: Array Length Consistency Validation + Runtime Storage Model Documentation (critical fixes to ensure correctness and completeness)</em></p> </article> </div> <script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script> </div> <button type=button class="md-top md-icon" data-md-component=top hidden> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg> Back to top </button> </main> <footer class=md-footer> <div class="md-footer-meta md-typeset"> <div class="md-footer-meta__inner md-grid"> <div class=md-copyright> <div class=md-copyright__highlight> Copyright &copy; 2024 HEIDIC Project </div> Made with <a href=https://squidfunk.github.io/mkdocs-material/ target=_blank rel=noopener> Material for MkDocs </a> </div> <div class=md-social> <a href=https://github.com/yourusername/heidic target=_blank rel=noopener title=github.com class=md-social__link> <svg xmlns=http://www.w3.org/2000/svg viewbox="0 0 512 512"><!-- Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M173.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6m-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3m44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9M252.8 8C114.1 8 8 113.3 8 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C436.2 457.8 504 362.9 504 252 504 113.3 391.5 8 252.8 8M105.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1m-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7m32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1m-11.4-14.7c-1.6 1-1.6 3.6 0 5.9s4.3 3.3 5.6 2.3c1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2"/></svg> </a> </div> </div> </div> </footer> </div> <div class=md-dialog data-md-component=dialog> <div class="md-dialog__inner md-typeset"></div> </div> <script id=__config type=application/json>{"annotate": null, "base": "../..", "features": ["navigation.tabs", "navigation.sections", "navigation.expand", "navigation.top", "search.suggest", "search.highlight", "content.code.annotate", "content.code.copy"], "search": "../../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script> <script src=../../assets/javascripts/bundle.e71a0d61.min.js></script> </body> </html>